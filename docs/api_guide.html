<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>DeepSearch API ê°€ì´ë“œ - KRX ì‹¤ë¬´ í™œìš©</title>
    <style>
        :root {
            --primary: #1f77b4;
            --secondary: #ff7f0e;
            --success: #2ca02c;
            --danger: #d62728;
            --warning: #ffbb00;
            --info: #17a2b8;
            --light: #f8f9fa;
            --dark: #343a40;
        }

        * {
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Noto Sans KR', sans-serif;
            line-height: 1.6;
            color: #333;
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
            background: #fff;
        }

        h1, h2, h3, h4 {
            color: var(--dark);
            margin-top: 1.5em;
        }

        h1 {
            border-bottom: 3px solid var(--primary);
            padding-bottom: 10px;
        }

        h2 {
            border-bottom: 2px solid #eee;
            padding-bottom: 8px;
        }

        /* Navigation */
        nav {
            position: sticky;
            top: 0;
            background: var(--light);
            padding: 15px;
            border-radius: 8px;
            margin-bottom: 30px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
            z-index: 100;
        }

        nav ul {
            list-style: none;
            padding: 0;
            margin: 0;
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
        }

        nav a {
            color: var(--primary);
            text-decoration: none;
            padding: 5px 12px;
            border-radius: 4px;
            background: white;
            font-size: 0.9em;
        }

        nav a:hover {
            background: var(--primary);
            color: white;
        }

        /* Tables */
        table {
            width: 100%;
            border-collapse: collapse;
            margin: 20px 0;
            font-size: 0.95em;
        }

        th, td {
            border: 1px solid #ddd;
            padding: 12px;
            text-align: left;
        }

        th {
            background: var(--light);
            font-weight: 600;
        }

        tr:nth-child(even) {
            background: #fafafa;
        }

        /* Code blocks */
        pre {
            background: #2d2d2d;
            color: #f8f8f2;
            padding: 20px;
            border-radius: 8px;
            overflow-x: auto;
            font-size: 0.9em;
            line-height: 1.5;
        }

        code {
            font-family: 'Consolas', 'Monaco', 'Courier New', monospace;
        }

        p code, li code, td code {
            background: #f4f4f4;
            padding: 2px 6px;
            border-radius: 4px;
            color: #c7254e;
            font-size: 0.9em;
        }

        /* Alert boxes */
        .info-box, .warning-box, .success-box, .danger-box {
            padding: 15px 20px;
            border-radius: 8px;
            margin: 20px 0;
        }

        .info-box {
            background: #e7f3ff;
            border-left: 4px solid var(--info);
        }

        .warning-box {
            background: #fff8e6;
            border-left: 4px solid var(--warning);
        }

        .success-box {
            background: #e8f5e9;
            border-left: 4px solid var(--success);
        }

        .danger-box {
            background: #ffebee;
            border-left: 4px solid var(--danger);
        }

        /* Comparison cards */
        .comparison {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin: 20px 0;
        }

        .card {
            border: 1px solid #ddd;
            border-radius: 8px;
            padding: 20px;
        }

        .card h4 {
            margin-top: 0;
            padding-bottom: 10px;
            border-bottom: 2px solid var(--primary);
        }

        .card.securities { border-top: 4px solid var(--success); }
        .card.entities { border-top: 4px solid var(--info); }
        .card.named-entities { border-top: 4px solid var(--warning); }

        /* Collapsible sections */
        details {
            border: 1px solid #ddd;
            border-radius: 8px;
            margin: 10px 0;
        }

        summary {
            padding: 15px;
            cursor: pointer;
            background: var(--light);
            font-weight: 600;
        }

        summary:hover {
            background: #eee;
        }

        details > div {
            padding: 15px;
        }

        /* Diagram boxes */
        .diagram-box {
            background: linear-gradient(135deg, #f5f7fa 0%, #e4e8eb 100%);
            border: 2px solid #ddd;
            border-radius: 12px;
            padding: 25px;
            margin: 20px 0;
            text-align: center;
        }

        .diagram-box h4 {
            margin-top: 0;
            color: var(--primary);
            font-size: 1.1em;
        }

        .flow-diagram {
            display: flex;
            align-items: center;
            justify-content: center;
            flex-wrap: wrap;
            gap: 10px;
            margin: 15px 0;
        }

        .flow-step {
            background: white;
            border: 2px solid var(--primary);
            border-radius: 8px;
            padding: 12px 18px;
            font-weight: 500;
            min-width: 120px;
        }

        .flow-step.highlight {
            background: var(--primary);
            color: white;
        }

        .flow-step.api {
            background: #e3f2fd;
            border-color: #2196f3;
        }

        .flow-step.filter {
            background: #fff3e0;
            border-color: #ff9800;
        }

        .flow-step.result {
            background: #e8f5e9;
            border-color: #4caf50;
        }

        .flow-step.llm {
            background: #f3e5f5;
            border-color: #9c27b0;
        }

        .flow-arrow {
            font-size: 1.5em;
            color: #666;
        }

        /* Use case boxes */
        .use-case-box {
            background: #fff;
            border: 2px solid var(--primary);
            border-radius: 12px;
            padding: 20px;
            margin: 15px 0;
        }

        .use-case-box h4 {
            margin-top: 0;
            color: var(--primary);
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .use-case-box h4::before {
            content: "ğŸ’¡";
        }

        .use-case-highlight {
            background: #fffde7;
            border-left: 4px solid var(--warning);
            padding: 15px;
            margin: 15px 0;
            border-radius: 0 8px 8px 0;
        }

        /* Scenario cards */
        .scenario-card {
            border: 1px solid #e0e0e0;
            border-radius: 12px;
            margin: 25px 0;
            overflow: hidden;
            box-shadow: 0 2px 8px rgba(0,0,0,0.05);
        }

        .scenario-header {
            background: linear-gradient(135deg, var(--primary) 0%, #2196f3 100%);
            color: white;
            padding: 15px 20px;
        }

        .scenario-header h4 {
            margin: 0;
            color: white;
        }

        .scenario-body {
            padding: 20px;
        }

        .scenario-purpose {
            background: #f5f5f5;
            padding: 12px 15px;
            border-radius: 8px;
            margin-bottom: 15px;
            font-weight: 500;
        }

        /* Section TOC */
        .section-toc {
            background: #f8f9fa;
            border: 1px solid #e9ecef;
            border-radius: 8px;
            padding: 12px 16px;
            margin: 15px 0 25px 0;
            font-size: 0.9em;
        }

        .section-toc-title {
            font-weight: 600;
            color: var(--dark);
            margin-bottom: 8px;
            font-size: 0.85em;
        }

        .section-toc ul {
            list-style: none;
            padding: 0;
            margin: 0;
            display: flex;
            flex-wrap: wrap;
            gap: 6px 16px;
        }

        .section-toc li {
            margin: 0;
        }

        .section-toc a {
            color: var(--primary);
            text-decoration: none;
            font-size: 0.9em;
        }

        .section-toc a:hover {
            text-decoration: underline;
        }

        /* Footer */
        footer {
            margin-top: 50px;
            padding-top: 20px;
            border-top: 1px solid #ddd;
            text-align: center;
            color: #666;
        }

        /* Responsive */
        @media (max-width: 768px) {
            nav ul {
                flex-direction: column;
            }

            .comparison {
                grid-template-columns: 1fr;
            }

            .flow-diagram {
                flex-direction: column;
            }

            .flow-arrow {
                transform: rotate(90deg);
            }
        }
    </style>
</head>
<body>

<h1>DeepSearch Document API ê°€ì´ë“œ</h1>
<p style="color: #666; font-size: 0.9em; margin-top: -5px; margin-bottom: 20px;">â€»ë³¸ ê°€ì´ë“œëŠ” DeepSearchì˜ ê³µì‹ë¬¸ì„œê°€ ì•„ë‹ˆë©°, ì •ì¬ê´‘ ê³¼ì¥ì´ DeepSearch API ë¬¸ì„œë¥¼ ì°¸ê³ í•˜ì—¬ ì‘ì„±í•œ í™œìš©ì‚¬ë¡€ì…ë‹ˆë‹¤.</p>

<nav>
    <ul>
        <li><a href="#overview">1. ê°œìš”</a></li>
        <li><a href="#parameters">2. í˜¸ì¶œ íŒŒë¼ë¯¸í„° ë° ì‘ë‹µ í•„ë“œ</a></li>
        <li><a href="#comparison">3. ìƒì¥ì‚¬ ê²€ìƒ‰ í•„ë“œ ì´í•´ - KRX í•µì‹¬</a></li>
        <li><a href="#krx-practice">4. KRX ì‹¤ë¬´í™œìš©ì˜ˆì‹œ</a></li>
        <li><a href="#llm">5. LLMì„ ì—°ê³„í•œ KRX ì‹¤ë¬´í™œìš©ì˜ˆì‹œ</a></li>
    </ul>
</nav>

<div class="info-box">
    <strong>ì´ ê°€ì´ë“œì˜ ëª©ì </strong><br>
    í•œêµ­ê±°ë˜ì†Œ(KRX) ì§ì›ì˜ ì—…ë¬´ë¥¼ ìœ„í•´ ì‘ì„±ë˜ì—ˆìŠµë‹ˆë‹¤.<br><br>
    <strong>ì£¼ìš” ê´€ì‹¬ì‚¬:</strong>
    <ul>
        <li>ë‰´ìŠ¤ ëª¨ë‹ˆí„°ë§: ìƒì¥ì‚¬ ê´€ë ¨ ë‰´ìŠ¤ ì‹¤ì‹œê°„ ì¶”ì </li>
        <li>ê³µì‹œ ì˜ë¬´ íŒë‹¨: ì£¼ìš” ê²½ì˜ì‚¬í•­ ë°œìƒ ì—¬ë¶€ í™•ì¸</li>
        <li>ì£¼ê°€ ë³€ë™ ë¶„ì„: íŠ¹ì • ë‰´ìŠ¤ì™€ ì£¼ê°€ ë³€ë™ ìƒê´€ê´€ê³„ íŒŒì•…</li>
    </ul>
</div>

<!-- Section 1: Overview -->
<section id="overview">
<h2>1. ê°œìš”</h2>

<h3>DeepSearch ë¬¸ì„œ ì¹´í…Œê³ ë¦¬</h3>

<table>
    <tr>
        <th>ì¹´í…Œê³ ë¦¬</th>
        <th>ì½”ë“œ</th>
        <th>ì„¹ì…˜</th>
    </tr>
    <tr>
        <td><strong>ë‰´ìŠ¤</strong></td>
        <td><code>news</code></td>
        <td>economy, politics, society, culture, world, tech, entertainment, opinion</td>
    </tr>
    <tr>
        <td><strong>ì¦ê¶Œì‚¬ ë³´ê³ ì„œ</strong></td>
        <td><code>research</code></td>
        <td>market, strategy, company, industry, economy, bond</td>
    </tr>
    <tr>
        <td><strong>ê³µì‹œ/IR</strong></td>
        <td><code>company</code></td>
        <td>disclosure, ir</td>
    </tr>
    <tr>
        <td><strong>íŠ¹í—ˆ</strong></td>
        <td><code>patent</code></td>
        <td>patent</td>
    </tr>
</table>

<h3>ì£¼ìš” API í•¨ìˆ˜</h3>

<table>
    <tr>
        <th>í•¨ìˆ˜ëª…</th>
        <th>ìš©ë„</th>
        <th>KRX í™œìš© ì˜ˆì‹œ</th>
    </tr>
    <tr>
        <td><code>DocumentSearch</code></td>
        <td>ë¬¸ì„œ ê²€ìƒ‰</td>
        <td>íŠ¹ì • ìƒì¥ì‚¬ ê´€ë ¨ ë‰´ìŠ¤ ê²€ìƒ‰</td>
    </tr>
    <tr>
        <td><code>DocumentTrends</code></td>
        <td>ë¬¸ì„œ íŠ¸ë Œë“œ</td>
        <td>íŠ¹ì • í‚¤ì›Œë“œ ì–¸ê¸‰ ë¹ˆë„ ì¶”ì´</td>
    </tr>
    <tr>
        <td><code>DocumentAggregation</code></td>
        <td>ë¬¸ì„œ ì§‘ê³„</td>
        <td>íŠ¹ì • ì´ìŠˆ ê¸°ì—… ë¦¬ìŠ¤íŠ¸ ì¶”ì¶œ</td>
    </tr>
    <tr>
        <td><code>GetSentimentScore</code></td>
        <td>ê°ì„± ì ìˆ˜</td>
        <td>ìƒì¥ì‚¬ ê¸/ë¶€ì • ë‰´ìŠ¤ ë¹„ìœ¨</td>
    </tr>
    <tr>
        <td><code>SearchTrendingTopics</code></td>
        <td>ì‹¤ì‹œê°„ ì´ìŠˆ</td>
        <td>í˜„ì¬ í•«í•œ ê²½ì œ ì´ìŠˆ íŒŒì•…</td>
    </tr>
</table>
</section>

<!-- Section 2: Parameters and Response -->
<section id="parameters">
<h2>2. í˜¸ì¶œ íŒŒë¼ë¯¸í„° ë° ì‘ë‹µ í•„ë“œ</h2>

<h3>DocumentSearch íŒŒë¼ë¯¸í„°</h3>

<pre><code>DocumentSearch(
    category,              # í•„ìˆ˜: ë¬¸ì„œ ì¹´í…Œê³ ë¦¬ (news, research, company, patent)
    section,               # í•„ìˆ˜: ì„¸ë¶€ ì„¹ì…˜ (economy, politics ë“±)
    query,                 # í•„ìˆ˜: ê²€ìƒ‰ ì¿¼ë¦¬
    count=10,              # í•œ í˜ì´ì§€ ë¬¸ì„œ ìˆ˜ (ê¸°ë³¸ 10)
    page=None,             # í˜ì´ì§€ ë²ˆí˜¸
    date_from=None,        # ê²€ìƒ‰ ì‹œì‘ì¼ (YYYYMMDD)
    date_to=None,          # ê²€ìƒ‰ ì¢…ë£Œì¼ (YYYYMMDD)
    summary=True,          # ë¬¸ì„œ ìš”ì•½ ì—¬ë¶€
    clustering=False,      # í´ëŸ¬ìŠ¤í„°ë§ ì‚¬ìš© ì—¬ë¶€
    uniquify=True,         # ì¤‘ë³µ ë¬¸ì„œ ì œê±°
    highlight=False,       # í‚¤ì›Œë“œ í•˜ì´ë¼ì´íŠ¸
    fields=None            # ë°˜í™˜í•  í•„ë“œ ì§€ì •
)</code></pre>

<h3>ê²€ìƒ‰ ì¿¼ë¦¬ í•„ë“œ (ì‹¬í™” ê²€ìƒ‰)</h3>

<h4>ê¸°ë³¸ í•„ë“œ</h4>
<table>
    <tr><th>í•„ë“œ</th><th>ì„¤ëª…</th><th>ì˜ˆì‹œ</th></tr>
    <tr><td><code>title:í‚¤ì›Œë“œ</code></td><td>ì œëª©ì—ì„œ ê²€ìƒ‰</td><td><code>title:ì‚¼ì„±ì „ì</code></td></tr>
    <tr><td><code>content:í‚¤ì›Œë“œ</code></td><td>ë³¸ë¬¸ì—ì„œ ê²€ìƒ‰</td><td><code>content:ì‹¤ì </code></td></tr>
    <tr><td><code>publisher:ì–¸ë¡ ì‚¬</code></td><td>íŠ¹ì • ì–¸ë¡ ì‚¬ í•„í„°</td><td><code>publisher:í•œê²¨ë ˆ</code></td></tr>
</table>

<h4>ìƒì¥ì‚¬ ê´€ë ¨ (securities)</h4>
<table>
    <tr><th>í•„ë“œ</th><th>ì„¤ëª…</th><th>ì˜ˆì‹œ</th></tr>
    <tr><td><code>securities.name:ê¸°ì—…ëª…</code></td><td>ê´€ë ¨ì¢…ëª© ê¸°ì—…ëª…</td><td><code>securities.name:ì‚¼ì„±ì „ì</code></td></tr>
    <tr><td><code>securities.symbol:ì½”ë“œ</code></td><td>ê´€ë ¨ì¢…ëª© ì¢…ëª©ì½”ë“œ</td><td><code>securities.symbol:005930</code></td></tr>
    <tr><td><code>securities.market:ì‹œì¥</code></td><td>ì‹œì¥ë³„ í•„í„°</td><td><code>securities.market:KOSPI</code></td></tr>
</table>

<h4>ê¸°ì—…/ì¸ë¬¼ ì–¸ê¸‰ (named_entities)</h4>
<table>
    <tr><th>í•„ë“œ</th><th>ì„¤ëª…</th><th>ì˜ˆì‹œ</th></tr>
    <tr><td><code>named_entities.entities.company.name</code></td><td>ì–¸ê¸‰ëœ ê¸°ì—… (ë¹„ìƒì¥ í¬í•¨)</td><td><code>...company.name:ì¹´ì¹´ì˜¤</code></td></tr>
    <tr><td><code>named_entities.entities.person.name</code></td><td>ì–¸ê¸‰ëœ ì¸ë¬¼</td><td><code>...person.name:ì´ì¬ìš©</code></td></tr>
    <tr><td><code>named_entities.entities.brand.name</code></td><td>ì–¸ê¸‰ëœ ë¸Œëœë“œ</td><td><code>...brand.name:ê°¤ëŸ­ì‹œ</code></td></tr>
</table>

<h4>ê°ì„±/ESG ë¶„ì„</h4>
<table>
    <tr><th>í•„ë“œ</th><th>ì„¤ëª…</th><th>ì˜ˆì‹œ</th></tr>
    <tr><td><code>polarity.name</code></td><td>ê¸ë¶€ì • í•„í„°</td><td><code>polarity.name:ê¸ì •</code></td></tr>
    <tr><td><code>polarity.label</code></td><td>ê¸ë¶€ì • ì½”ë“œ</td><td><code>polarity.label:'1'</code> (ê¸ì •)</td></tr>
    <tr><td><code>esg.category.name</code></td><td>ESG ì¹´í…Œê³ ë¦¬</td><td><code>esg.category.name:í™˜ê²½</code></td></tr>
    <tr><td><code>esg.polarity.name</code></td><td>ESG ê¸ë¶€ì •</td><td><code>esg.polarity.name:ë¶€ì •</code></td></tr>
</table>

<h3>Boolean ì—°ì‚°ì</h3>
<table>
    <tr><th>ì—°ì‚°ì</th><th>ì„¤ëª…</th><th>ì˜ˆì‹œ</th></tr>
    <tr><td><code>and</code></td><td>AND ì¡°ê±´</td><td><code>ì‚¼ì„±ì „ì and ì‹¤ì </code></td></tr>
    <tr><td><code>or</code></td><td>OR ì¡°ê±´</td><td><code>KOSPI or KOSDAQ</code></td></tr>
    <tr><td><code>!</code> ë˜ëŠ” <code>-</code></td><td>NOT ì¡°ê±´</td><td><code>ì‚¼ì„±ì „ì !ì†Œì†¡</code></td></tr>
    <tr><td><code>()</code></td><td>ê·¸ë£¹í•‘</td><td><code>ì‚¼ì„±ì „ì and (ê°¤ëŸ­ì‹œ or ì•„ì´í°)</code></td></tr>
</table>

<h3>Proximity Search (ê·¼ì ‘ ê²€ìƒ‰)</h3>
<pre><code># "ì‚¼ì„±ì „ì"ì™€ "ì•„ì´í°"ì´ ë¬¸ì„œ ë‚´ 5ë‹¨ì–´ ì´ë‚´ì— í•¨ê»˜ ë‚˜íƒ€ë‚˜ëŠ” ê²½ìš°
DocumentSearch("news","economy","\"ì‚¼ì„±ì „ì ì•„ì´í°\"~5")

# ì‹¤ë¬´ ì˜ˆì‹œ: "íšŒê³„" "ë¶€ì •"ì´ 15ë‹¨ì–´ ì´ë‚´ì— ë“±ì¥
DocumentSearch("news","economy","\"íšŒê³„ ë¶€ì •\"~15")</code></pre>

<h3>ì‹œê°„ ë‹¨ìœ„ ê²€ìƒ‰</h3>
<pre><code># íŠ¹ì • ë‚ ì§œ + ì‹œê°„ ë²”ìœ„ë¡œ ê²€ìƒ‰
DocumentSearch(
    ["news"], [],
    "ì‚¼ì„±ì „ì and created_at:[\"2024-01-15T09:00:00\" to \"2024-01-15T18:00:00\"]"
)</code></pre>

<h3>DocumentSearch ì‘ë‹µ êµ¬ì¡°</h3>
<pre><code>{
  "success": true,
  "data": {
    "total_matches": 1234,      // ì´ ê²€ìƒ‰ ê²°ê³¼ ìˆ˜
    "current_page": 1,
    "last_page": 100,
    "docs": [...]               // ë¬¸ì„œ ë°°ì—´
  }
}</code></pre>

<h3>ê°œë³„ ë¬¸ì„œ(doc) í•„ë“œ</h3>

<details>
    <summary>ê¸°ë³¸ ì •ë³´</summary>
    <div>
        <table>
            <tr><th>í•„ë“œ</th><th>íƒ€ì…</th><th>ì„¤ëª…</th></tr>
            <tr><td><code>uid</code> / <code>uid_str</code></td><td>number/string</td><td>ë¬¸ì„œ ê³ ìœ  ID</td></tr>
            <tr><td><code>category</code></td><td>string</td><td>ë¬¸ì„œ ì¹´í…Œê³ ë¦¬ (news, company ë“±)</td></tr>
            <tr><td><code>section</code></td><td>string</td><td>ì„¸ë¶€ ì„¹ì…˜ (economy, disclosure ë“±)</td></tr>
            <tr><td><code>publisher</code></td><td>string</td><td>ì¶œì²˜ (ì–¸ë¡ ì‚¬ëª…, ì¦ê¶Œì‚¬ëª… ë“±)</td></tr>
            <tr><td><code>author</code></td><td>string</td><td>ì‘ì„±ì</td></tr>
            <tr><td><code>title</code></td><td>string</td><td>ì œëª©</td></tr>
            <tr><td><code>content</code></td><td>string</td><td>ë³¸ë¬¸ ìš”ì•½ (ì›ë¬¸ ì•„ë‹˜, DeepSearchê°€ ìƒì„±í•œ ìš”ì•½ë³¸)</td></tr>
            <tr><td><code>content_url</code></td><td>string</td><td>ì›ë¬¸ ë§í¬</td></tr>
            <tr><td><code>created_at</code></td><td>string</td><td>ë¬¸ì„œ ìƒì„± ì¼ì‹œ</td></tr>
        </table>
        <div class="warning-box">
            <strong>ì°¸ê³ :</strong> <code>content</code> í•„ë“œëŠ” DeepSearchê°€ ìƒì„±í•œ <strong>ìš”ì•½ë³¸</strong>ì…ë‹ˆë‹¤. ì‹¤ì œ ê¸°ì‚¬ ì›ë¬¸ì´ ì•„ë‹™ë‹ˆë‹¤. ì›ë¬¸ì„ í™•ì¸í•˜ë ¤ë©´ <code>content_url</code> ë§í¬ë¥¼ ì°¸ì¡°í•´ì•¼ í•©ë‹ˆë‹¤.
        </div>
    </div>
</details>

<details>
    <summary>ê¸°ì—…/ì—”í‹°í‹° í•„ë“œ</summary>
    <div>
        <h4>securities (ê´€ë ¨ ì¢…ëª©)</h4>
        <div class="info-box"><strong>ìƒì¥ê¸°ì—…ë§Œ</strong> ë§¤í•‘ë¨. ë¬¸ì„œê°€ íŠ¹ì • ìƒì¥ê¸°ì—…ì— ëŒ€í•œ ê²ƒìœ¼ë¡œ íŒë‹¨ë  ë•Œ ë§¤í•‘</div>
<pre><code>{
  "securities": [
    {
      "type": "company",
      "exchange": "KRX",
      "market": "KOSPI",           // KOSPI, KOSDAQ, KONEX
      "symbol": "005930",          // ì¢…ëª©ì½”ë“œ
      "name": "ì‚¼ì„±ì „ì",           // ê¸°ì—…ëª…
      "company_rid": "...",        // ë²•ì¸ë“±ë¡ë²ˆí˜¸
      "business_rid": "..."        // ì‚¬ì—…ìë“±ë¡ë²ˆí˜¸
    }
  ]
}</code></pre>

        <h4>entities (ê´€ë ¨ ì—”í‹°í‹°)</h4>
        <div class="info-box">ë¬¸ì„œì—ì„œ ì¶”ì¶œëœ ì£¼ìš” ì—”í‹°í‹°. ê°„ëµí•œ í˜•íƒœ</div>
<pre><code>{
  "entities": [
    {"type": "company", "name": "ì‚¼ì„±ì „ì"},
    {"type": "company", "name": "SKí•˜ì´ë‹‰ìŠ¤"}
  ]
}</code></pre>

        <h4>named_entities (ì–¸ê¸‰ ë‚´ìš©)</h4>
        <div class="warning-box">ë³¸ë¬¸ì—ì„œ ì–¸ê¸‰ëœ ëª¨ë“  ê¸°ì—…/ì¸ë¬¼/ë¸Œëœë“œ. <strong>ë¹„ìƒì¥ê¸°ì—… í¬í•¨</strong></div>
<pre><code>{
  "named_entities": [
    {
      "type": "organization",      // company, person, brand ë“±
      "name": "ì¹´ì¹´ì˜¤ë±…í¬",
      "count": 5                   // ì–¸ê¸‰ íšŸìˆ˜
    }
  ]
}</code></pre>
    </div>
</details>

<details>
    <summary>ë¶„ì„ ì •ë³´</summary>
    <div>
        <h4>polarity (ê¸ë¶€ì • ë¶„ì„)</h4>
        <div class="info-box">securitiesê°€ ë§¤í•‘ëœ ë¬¸ì„œì— ëŒ€í•´ ê¸ë¶€ì • ë¶„ì„ ìˆ˜í–‰</div>
<pre><code>{
  "polarity": {
    "label": "1",        // 1: ê¸ì •, 0: ì¤‘ë¦½, -1: ë¶€ì •
    "name": "ê¸ì •",
    "score": 0.85        // ì‹ ë¢°ë„ (0.0 ~ 1.0)
  }
}</code></pre>

        <h4>esg (ESG ë¶„ì„)</h4>
<pre><code>{
  "esg": {
    "category": {
      "label": "E",          // E: í™˜ê²½, S: ì‚¬íšŒ, G: ì§€ë°°êµ¬ì¡°, U: í•´ë‹¹ì—†ìŒ
      "name": "í™˜ê²½",
      "score": 0.92
    },
    "polarity": {
      "label": "1",          // ESG ê´€ì  ê¸ë¶€ì •
      "name": "ê¸ì •",
      "score": 0.78
    }
  }
}</code></pre>

        <h4>industry (ì‚°ì—… ë¶„ë¥˜)</h4>
<pre><code>{
  "industry": {
    "label": "C26",          // í•œêµ­í‘œì¤€ì‚°ì—…ë¶„ë¥˜ ì½”ë“œ
    "name": "ì „ìë¶€í’ˆ, ì»´í“¨í„°, ì˜ìƒ, ìŒí–¥ ë° í†µì‹ ì¥ë¹„ ì œì¡°ì—…",
    "score": 0.95
  }
}</code></pre>
    </div>
</details>
</section>

<!-- Section 3: Comparison -->
<section id="comparison">
<h2>3. ìƒì¥ì‚¬ ê²€ìƒ‰ í•„ë“œ ì´í•´ - KRX í•µì‹¬</h2>

<div class="danger-box">
    <strong>KRX ë‹´ë‹¹ìê°€ ë°˜ë“œì‹œ ì•Œì•„ì•¼ í•  í•µì‹¬ ê°œë…</strong><br>
    DeepSearchëŠ” ê¸°ì‚¬ë¥¼ ë¶„ì„í•˜ì—¬ <strong>ì„¸ ê°€ì§€ ë°©ì‹</strong>ìœ¼ë¡œ ê¸°ì—… ì •ë³´ë¥¼ ë§¤í•‘í•©ë‹ˆë‹¤. ì´ ì°¨ì´ë¥¼ ì •í™•íˆ ì´í•´í•´ì•¼ ì›í•˜ëŠ” ê²€ìƒ‰ ê²°ê³¼ë¥¼ ì–»ì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤.
</div>

<h3>í•œëˆˆì— ë³´ëŠ” ì°¨ì´ì </h3>

<table>
    <tr>
        <th>êµ¬ë¶„</th>
        <th>securities</th>
        <th>entities</th>
        <th>named_entities</th>
    </tr>
    <tr>
        <td><strong>ëŒ€ìƒ</strong></td>
        <td>ìƒì¥ê¸°ì—…ë§Œ</td>
        <td>ì£¼ìš” ê¸°ì—…</td>
        <td>ëª¨ë“  ì–¸ê¸‰ (ë¹„ìƒì¥ í¬í•¨)</td>
    </tr>
    <tr>
        <td><strong>ë§¤í•‘ ê¸°ì¤€</strong></td>
        <td>ë¬¸ì„œê°€ í•´ë‹¹ ê¸°ì—…ì— <strong>ê´€í•œ</strong> ê²ƒ</td>
        <td>ë¬¸ì„œì—ì„œ ì¶”ì¶œëœ ì£¼ìš” ê¸°ì—…</td>
        <td>ë³¸ë¬¸ì— <strong>ì–¸ê¸‰ëœ</strong> ëª¨ë“  ê²ƒ</td>
    </tr>
    <tr>
        <td><strong>ì •ë³´ëŸ‰</strong></td>
        <td>ìƒì„¸ (ì¢…ëª©ì½”ë“œ, ì‹œì¥, ë“±ë¡ë²ˆí˜¸)</td>
        <td>ê°„ëµ (ì´ë¦„, íƒ€ì…)</td>
        <td>ì¤‘ê°„ (ì´ë¦„, íƒ€ì…, ì–¸ê¸‰íšŸìˆ˜)</td>
    </tr>
    <tr>
        <td><strong>ë¹„ìƒì¥ í¬í•¨</strong></td>
        <td>âŒ</td>
        <td>âš ï¸ ì¼ë¶€</td>
        <td>âœ…</td>
    </tr>
    <tr>
        <td><strong>ì¸ë¬¼ í¬í•¨</strong></td>
        <td>âŒ</td>
        <td>âŒ</td>
        <td>âœ…</td>
    </tr>
</table>

<!-- Use Case 1: ìƒì¥ì‚¬ê°€ ì£¼ì œì¸ ê¸°ì‚¬ ì°¾ê¸° -->
<div class="use-case-box">
    <h4>í™œìš©ì‚¬ë¡€ 1: ìƒì¥ì‚¬ê°€ "ì£¼ì œ"ì¸ ê¸°ì‚¬ ì°¾ê¸° (securities ì‚¬ìš©)</h4>

    <div class="diagram-box">
        <h4>securities í•„ë“œì˜ ë™ì‘ ì›ë¦¬</h4>
        <div class="flow-diagram">
            <div class="flow-step">ê¸°ì‚¬ ë³¸ë¬¸</div>
            <span class="flow-arrow">â†’</span>
            <div class="flow-step api">DeepSearch AI ë¶„ì„</div>
            <span class="flow-arrow">â†’</span>
            <div class="flow-step highlight">"ì´ ê¸°ì‚¬ì˜ ì£¼ì œê°€<br>íŠ¹ì • ìƒì¥ì‚¬ì¸ê°€?"</div>
            <span class="flow-arrow">â†’</span>
            <div class="flow-step result">securities ë§¤í•‘</div>
        </div>
    </div>

    <div class="use-case-highlight">
        <strong>í•µì‹¬ í¬ì¸íŠ¸:</strong> "ë‚¨ì„±", "ëŒ€ìƒ"ì€ ì¼ë°˜ì ìœ¼ë¡œ í”íˆ ì“°ì´ëŠ” ë‹¨ì–´ì…ë‹ˆë‹¤. í•˜ì§€ë§Œ ìœ ê°€ì¦ê¶Œì‹œì¥ì— ìƒì¥ëœ "(ì£¼)ë‚¨ì„±", "(ì£¼)ëŒ€ìƒ"ì´ë¼ëŠ” ê¸°ì—…ë„ ìˆìŠµë‹ˆë‹¤.<br><br>
        <code>securities</code> í•„ë“œë¡œ ê²€ìƒ‰í•˜ë©´, ë‹¨ìˆœíˆ "ë‚¨ì„±"ì´ë¼ëŠ” ë‹¨ì–´ê°€ ì–¸ê¸‰ëœ ê¸°ì‚¬ê°€ ì•„ë‹ˆë¼, <strong>DeepSearchê°€ "ë‚¨ì„±"ì´ë¼ëŠ” ìƒì¥ì‚¬ë¥¼ ì£¼ì œë¡œ íŒë‹¨í•œ ê¸°ì‚¬ë§Œ</strong> ê²€ìƒ‰ë©ë‹ˆë‹¤.
    </div>

<pre><code># ìƒì¥ì‚¬ "ë‚¨ì„±"ì´ ì£¼ì œì¸ ê¸°ì‚¬ ê²€ìƒ‰ (í”í•œ ë‹¨ì–´ "ë‚¨ì„±"ì´ í¬í•¨ëœ ê¸°ì‚¬ëŠ” ì œì™¸ë¨)
DocumentSearch(["news"], ["economy"], "securities.name:ë‚¨ì„±")

# ìƒì¥ì‚¬ "ëŒ€ìƒ"ì´ ì£¼ì œì¸ ê¸°ì‚¬ ê²€ìƒ‰ (í”í•œ ë‹¨ì–´ "ëŒ€ìƒ"ì´ í¬í•¨ëœ ê¸°ì‚¬ëŠ” ì œì™¸ë¨)
DocumentSearch(["news"], ["economy"], "securities.name:ëŒ€ìƒ")

# KOSPI/KOSDAQ ì „ì²´ ìƒì¥ì‚¬ê°€ ì£¼ì œì¸ ê¸°ì‚¬
DocumentSearch(["news"], ["economy"], "securities.market:(KOSPI or KOSDAQ)")</code></pre>
</div>

<!-- Use Case 2: ìƒì¥ì‚¬ê°€ ì–¸ê¸‰ëœ ê¸°ì‚¬ ì°¾ê¸° -->
<div class="use-case-box">
    <h4>í™œìš©ì‚¬ë¡€ 2: ìƒì¥ì‚¬ê°€ "ì–¸ê¸‰ëœ" ê¸°ì‚¬ ì°¾ê¸° (named_entities ì‚¬ìš©)</h4>

    <div class="diagram-box">
        <h4>named_entities í•„ë“œì˜ ë™ì‘ ì›ë¦¬</h4>
        <div class="flow-diagram">
            <div class="flow-step">ê¸°ì‚¬ ë³¸ë¬¸</div>
            <span class="flow-arrow">â†’</span>
            <div class="flow-step api">NER(ê°œì²´ëª… ì¸ì‹)</div>
            <span class="flow-arrow">â†’</span>
            <div class="flow-step highlight">"ì´ ê¸°ì‚¬ì—ì„œ<br>ì–¸ê¸‰ëœ ê¸°ì—…ì€?"</div>
            <span class="flow-arrow">â†’</span>
            <div class="flow-step result">named_entities ë§¤í•‘</div>
        </div>
    </div>

    <div class="use-case-highlight">
        <strong>í•µì‹¬ í¬ì¸íŠ¸:</strong> ê¸°ì‚¬ì˜ ì£¼ì œê°€ ì•„ë‹ˆë”ë¼ë„, ë³¸ë¬¸ì—ì„œ <strong>ì–¸ê¸‰ë§Œ ë˜ì–´ë„</strong> ê²€ìƒ‰ë©ë‹ˆë‹¤. ë¹„ìƒì¥ ê¸°ì—…, ì¸ë¬¼, ë¸Œëœë“œë„ í¬í•¨ë©ë‹ˆë‹¤.
    </div>

<pre><code># ì‚¼ì„±ì „ìê°€ "ì–¸ê¸‰ëœ" ëª¨ë“  ê¸°ì‚¬ (ì£¼ì œê°€ ì•„ë‹ˆì–´ë„ ë¨)
DocumentSearch(["news"], ["economy"], "named_entities.entities.company.name:ì‚¼ì„±ì „ì")

# íŠ¹ì • ì¸ë¬¼ì´ ì–¸ê¸‰ëœ ê¸°ì‚¬
DocumentSearch(["news"], ["economy"], "named_entities.entities.person.name:ì´ì¬ìš©")

# ë¹„ìƒì¥ ê¸°ì—…ì´ ì–¸ê¸‰ëœ ê¸°ì‚¬ (ì¿ íŒ¡ì€ ë¯¸êµ­ ìƒì¥)
DocumentSearch(["news"], ["economy"], "named_entities.entities.company.name:ì¿ íŒ¡")</code></pre>
</div>

<!-- Use Case 3: ì£¼ìš” ì¢…ì†íšŒì‚¬ê°€ ì–¸ê¸‰ëœ ê¸°ì‚¬ ì°¾ê¸° -->
<div class="use-case-box">
    <h4>í™œìš©ì‚¬ë¡€ 3: ìƒì¥ì‚¬ì˜ ì£¼ìš” ì¢…ì†íšŒì‚¬ê°€ ì–¸ê¸‰ëœ ê¸°ì‚¬ ì°¾ê¸°</h4>

    <div class="diagram-box">
        <h4>ì¢…ì†íšŒì‚¬ ëª¨ë‹ˆí„°ë§ ì „ëµ</h4>
        <div class="flow-diagram">
            <div class="flow-step">ìƒì¥ì‚¬ ì¢…ì†íšŒì‚¬ ëª©ë¡<br>(ë¹„ìƒì¥ í¬í•¨)</div>
            <span class="flow-arrow">â†’</span>
            <div class="flow-step api">named_entities ê²€ìƒ‰</div>
            <span class="flow-arrow">â†’</span>
            <div class="flow-step filter">í›„ì²˜ë¦¬: ìƒì¥ ëª¨íšŒì‚¬<br>ë§¤í•‘</div>
            <span class="flow-arrow">â†’</span>
            <div class="flow-step result">ì¢…ì†íšŒì‚¬ ì´ìŠˆ<br>ëª¨íšŒì‚¬ ì•Œë¦¼</div>
        </div>
    </div>

    <div class="use-case-highlight">
        <strong>í•µì‹¬ í¬ì¸íŠ¸:</strong> ìƒì¥ì‚¬ì˜ ì¢…ì†íšŒì‚¬ëŠ” ëŒ€ë¶€ë¶„ ë¹„ìƒì¥ì…ë‹ˆë‹¤. <code>securities</code>ë¡œëŠ” ê²€ìƒ‰ë˜ì§€ ì•Šìœ¼ë¯€ë¡œ, <code>named_entities</code>ë¡œ ê²€ìƒ‰ í›„ ëª¨íšŒì‚¬ ì •ë³´ë¥¼ ë§¤í•‘í•´ì•¼ í•©ë‹ˆë‹¤.
    </div>

<pre><code># ì‚¼ì„±ì „ìì˜ ë¹„ìƒì¥ ì¢…ì†íšŒì‚¬ê°€ ì–¸ê¸‰ëœ ê¸°ì‚¬ ê²€ìƒ‰
# (ì˜ˆ: ì‚¼ì„±ë””ìŠ¤í”Œë ˆì´, ì‚¼ì„±ë©”ë””ìŠ¨ ë“±)
DocumentSearch(["news"], ["economy"], "named_entities.entities.company.name:ì‚¼ì„±ë””ìŠ¤í”Œë ˆì´")

# ì—¬ëŸ¬ ì¢…ì†íšŒì‚¬ ë™ì‹œ ê²€ìƒ‰
DocumentSearch(
    ["news"], ["economy"],
    "named_entities.entities.company.name:(ì‚¼ì„±ë””ìŠ¤í”Œë ˆì´ or ì‚¼ì„±ë©”ë””ìŠ¨ or ì‚¼ì„±ë°”ì´ì˜¤ë¡œì§ìŠ¤)"
)</code></pre>
</div>

<h3>ì‹¤ì œ ì˜ˆì‹œë¡œ ì´í•´í•˜ê¸°</h3>
<p><strong>ì˜ˆì‹œ ë‰´ìŠ¤:</strong> 'ì‚¼ì„±ì „ì, ì¹´ì¹´ì˜¤ë±…í¬ì™€ MOU ì²´ê²°... ì´ì¬ìš© íšŒì¥ ì°¸ì„'</p>

<div class="comparison">
    <div class="card securities">
        <h4>securities</h4>
<pre><code>[
  {
    "market": "KOSPI",
    "symbol": "005930",
    "name": "ì‚¼ì„±ì „ì"
  }
]</code></pre>
        <p>ì‚¼ì„±ì „ì <strong>ê´€ë ¨</strong> ë‰´ìŠ¤ë¡œ íŒë‹¨<br>
        ì¹´ì¹´ì˜¤ë±…í¬ëŠ” ë¹„ìƒì¥(ë‹¹ì‹œ)ì´ë¯€ë¡œ ë¯¸í¬í•¨</p>
    </div>

    <div class="card entities">
        <h4>entities</h4>
<pre><code>[
  {"type": "company", "name": "ì‚¼ì„±ì „ì"},
  {"type": "company", "name": "ì¹´ì¹´ì˜¤ë±…í¬"}
]</code></pre>
        <p>ë¬¸ì„œì˜ ì£¼ìš” ê¸°ì—…ë§Œ ì¶”ì¶œ<br>
        ê°„ëµí•œ ì •ë³´</p>
    </div>

    <div class="card named-entities">
        <h4>named_entities</h4>
<pre><code>[
  {"type": "company", "name": "ì‚¼ì„±ì „ì", "count": 5},
  {"type": "company", "name": "ì¹´ì¹´ì˜¤ë±…í¬", "count": 3},
  {"type": "person", "name": "ì´ì¬ìš©", "count": 2}
]</code></pre>
        <p>ì–¸ê¸‰ëœ ëª¨ë“  ê¸°ì—…/ì¸ë¬¼<br>
        ì–¸ê¸‰ íšŸìˆ˜ í¬í•¨</p>
    </div>
</div>

<h3>KRX ì—…ë¬´ë³„ ê¶Œì¥ í•„ë“œ</h3>
<table>
    <tr><th>ì—…ë¬´ ëª©ì </th><th>ê¶Œì¥ í•„ë“œ</th><th>ì´ìœ </th></tr>
    <tr><td><strong>ìƒì¥ì‚¬ ë‰´ìŠ¤ ëª¨ë‹ˆí„°ë§</strong></td><td><code>securities</code></td><td>ìƒì¥ì‚¬ë§Œ ì •í™•íˆ í•„í„°ë§, ì¢…ëª©ì½”ë“œë¡œ ë§¤ì¹­</td></tr>
    <tr><td><strong>ê³µì‹œ ì˜ë¬´ íŒë‹¨</strong></td><td><code>securities</code> + <code>polarity</code></td><td>ìƒì¥ì‚¬ ê´€ë ¨ ë¶€ì • ë‰´ìŠ¤ ì§‘ì¤‘ ëª¨ë‹ˆí„°ë§</td></tr>
    <tr><td><strong>ë¹„ìƒì¥ ìíšŒì‚¬ ì´ìŠˆ</strong></td><td><code>named_entities</code></td><td>ë¹„ìƒì¥ ê¸°ì—…ë„ ì–¸ê¸‰ ì‹œ í¬ì°©</td></tr>
    <tr><td><strong>ëŒ€í‘œì´ì‚¬/ì„ì› ê´€ë ¨</strong></td><td><code>named_entities.person</code></td><td>ì¸ë¬¼ ì–¸ê¸‰ ì¶”ì </td></tr>
    <tr><td><strong>ì „ì²´ ì´ìŠˆ íŒŒì•…</strong></td><td><code>named_entities</code></td><td>ê°€ì¥ ë„“ì€ ë²”ìœ„ í¬ì°©</td></tr>
</table>
</section>

<!-- Section 4: KRX Practice -->
<section id="krx-practice">
<h2>4. KRX ì‹¤ë¬´í™œìš©ì˜ˆì‹œ</h2>

<div class="info-box">
    ì´ ì„¹ì…˜ì—ì„œëŠ” DeepSearch APIë¥¼ í™œìš©í•œ ì‹¤ì œ KRX ì—…ë¬´ ì‹œë‚˜ë¦¬ì˜¤ë¥¼ ë‹¤ë£¹ë‹ˆë‹¤.<br>
    ê° ì‹œë‚˜ë¦¬ì˜¤ëŠ” <strong>ë‹¤ì´ì–´ê·¸ë¨ â†’ ì„¤ëª… â†’ ì½”ë“œ</strong> ìˆœì„œë¡œ ì§ê´€ì ìœ¼ë¡œ ì´í•´í•  ìˆ˜ ìˆë„ë¡ êµ¬ì„±ë˜ì–´ ìˆìŠµë‹ˆë‹¤.
</div>

<div class="section-toc">
    <div class="section-toc-title">ì´ ì„¹ì…˜ì˜ ë‚´ìš©</div>
    <ul>
        <li><a href="#s4-1">1. ìƒì¥ì‚¬ ì£¼ì œ + í‚¤ì›Œë“œ</a></li>
        <li><a href="#s4-2">2. ê¸ë¶€ì • í•„í„°ë§</a></li>
        <li><a href="#s4-3">3. ì¼ì¼ ëª¨ë‹ˆí„°ë§</a></li>
        <li><a href="#s4-4">4. ê³µì‹œ ì˜ë¬´ íƒì§€</a></li>
        <li><a href="#s4-5">5. í…Œë§ˆ/ì´ìŠˆ ëª¨ë‹ˆí„°ë§</a></li>
        <li><a href="#s4-6">6. ì‹¤ì‹œê°„ ì´ìŠˆ</a></li>
        <li><a href="#s4-7">7. ë¹„ìƒì¥ì‚¬ ì¬ë¬´ìˆ˜ì¹˜</a></li>
        <li><a href="#s4-util">ìœ í‹¸ë¦¬í‹° í•¨ìˆ˜</a></li>
    </ul>
</div>

<!-- Scenario: ìƒì¥ì‚¬ ì£¼ì œ + í‚¤ì›Œë“œ ê²€ìƒ‰ -->
<div class="scenario-card" id="s4-1">
    <div class="scenario-header">
        <h4>ì‹œë‚˜ë¦¬ì˜¤ 1: íŠ¹ì • ìƒì¥ì‚¬ ì£¼ì œ ê¸°ì‚¬ + í‚¤ì›Œë“œ ê²€ìƒ‰</h4>
    </div>
    <div class="scenario-body">
        <div class="scenario-purpose">
            <strong>ëª©ì :</strong> DeepSearchê°€ íŠ¹ì • ìƒì¥ì‚¬ "ì£¼ì œ"ë¡œ íŒë‹¨í•œ ê¸°ì‚¬ ì¤‘, íŠ¹ì • í‚¤ì›Œë“œê°€ í¬í•¨ëœ ê¸°ì‚¬ë§Œ ì°¾ê¸°
        </div>

        <div class="diagram-box">
            <h4>ê²€ìƒ‰ íë¦„</h4>
            <div class="flow-diagram">
                <div class="flow-step">ì „ì²´ ë‰´ìŠ¤</div>
                <span class="flow-arrow">â†’</span>
                <div class="flow-step filter">securitiesë¡œ<br>ìƒì¥ì‚¬ ì£¼ì œ í•„í„°</div>
                <span class="flow-arrow">â†’</span>
                <div class="flow-step filter">title/contentì—ì„œ<br>í‚¤ì›Œë“œ ê²€ìƒ‰</div>
                <span class="flow-arrow">â†’</span>
                <div class="flow-step result">ìµœì¢… ê²°ê³¼</div>
            </div>
        </div>

        <div class="warning-box">
            <strong>ì¤‘ìš”í•œ ì°¨ì´ì :</strong><br>
            â€¢ <code>securities</code>: DeepSearchê°€ <strong>ì‚¬ì „ì— AIë¡œ ë¶„ì„í•˜ì—¬</strong> í•´ë‹¹ ìƒì¥ì‚¬ ì£¼ì œ ê¸°ì‚¬ë¡œ íŒë‹¨í•œ ê²ƒ<br>
            â€¢ <code>title/content í‚¤ì›Œë“œ</code>: ë‹¨ìˆœ <strong>Ctrl+Fì— í•´ë‹¹í•˜ëŠ” ë¬¸ìì—´ ê²€ìƒ‰</strong><br><br>
            <strong>ì°¸ê³ :</strong> <code>content</code> í•„ë“œëŠ” ê¸°ì‚¬ ì›ë¬¸ì´ ì•„ë‹Œ DeepSearchê°€ ìƒì„±í•œ <strong>ìš”ì•½ë³¸</strong>ì…ë‹ˆë‹¤. ì›ë¬¸ ì „ì²´ë¥¼ ëŒ€ìƒìœ¼ë¡œ í‚¤ì›Œë“œ ê²€ìƒ‰í•˜ëŠ” ê²ƒì´ ì•„ë‹˜ì— ìœ ì˜í•˜ì„¸ìš”.
        </div>

        <details>
            <summary>ì½”ë“œ ë³´ê¸°</summary>
<pre><code># ì‚¼ì„±ì „ì ì£¼ì œ ê¸°ì‚¬ ì¤‘ "ìˆ˜ì£¼"ê°€ ì–¸ê¸‰ëœ ê¸°ì‚¬ (ì œëª©+ìš”ì•½ë³¸ ê²€ìƒ‰)
DocumentSearch(
    ["news"], ["economy"],
    "securities.name:ì‚¼ì„±ì „ì and (title:ìˆ˜ì£¼ or content:ìˆ˜ì£¼)"
)

# KOSPI ìƒì¥ì‚¬ ì£¼ì œ ê¸°ì‚¬ ì¤‘ "ì‹¤ì " í‚¤ì›Œë“œê°€ í¬í•¨ëœ ê¸°ì‚¬
DocumentSearch(
    ["news"], ["economy"],
    "securities.market:KOSPI and (title:ì‹¤ì  or content:ì‹¤ì )"
)

# ì œëª©ì—ì„œë§Œ í‚¤ì›Œë“œ ê²€ìƒ‰ (ë” ì •í™•í•œ í•„í„°ë§)
DocumentSearch(
    ["news"], ["economy"],
    "securities.name:í˜„ëŒ€ìë™ì°¨ and title:ë¦¬ì½œ"
)</code></pre>
        </details>
    </div>
</div>

<!-- Scenario: ê¸ë¶€ì • í•„í„°ë§ -->
<div class="scenario-card" id="s4-2">
    <div class="scenario-header">
        <h4>ì‹œë‚˜ë¦¬ì˜¤ 2: ìƒì¥ì‚¬ ê¸ë¶€ì • ë‰´ìŠ¤ í•„í„°ë§</h4>
    </div>
    <div class="scenario-body">
        <div class="scenario-purpose">
            <strong>ëª©ì :</strong> íŠ¹ì • ìƒì¥ì‚¬ ê´€ë ¨ ë¶€ì •ì  ë‰´ìŠ¤ë§Œ ì¶”ì¶œí•˜ì—¬ ê³µì‹œ ì˜ë¬´ ì—¬ë¶€ ê²€í† 
        </div>

        <div class="diagram-box">
            <h4>ê¸ë¶€ì • í•„í„°ë§ íë¦„</h4>
            <div class="flow-diagram">
                <div class="flow-step">ìƒì¥ì‚¬ ì£¼ì œ ê¸°ì‚¬</div>
                <span class="flow-arrow">â†’</span>
                <div class="flow-step api">DeepSearch<br>ê°ì„±ë¶„ì„</div>
                <span class="flow-arrow">â†’</span>
                <div class="flow-step filter">polarity.label<br>í•„í„°ë§</div>
                <span class="flow-arrow">â†’</span>
                <div class="flow-step result">ë¶€ì • ë‰´ìŠ¤ ëª©ë¡</div>
            </div>
        </div>

        <details>
            <summary>ì½”ë“œ ë³´ê¸°</summary>
<pre><code># KOSPI/KOSDAQ ìƒì¥ì‚¬ ê´€ë ¨ ë¶€ì • ë‰´ìŠ¤
DocumentSearch(
    ["news"], ["economy"],
    "securities.market:(KOSPI or KOSDAQ) and polarity.name:ë¶€ì •",
    count=50
)

# íŠ¹ì • ê¸°ì—…ì˜ ë¶€ì • ë‰´ìŠ¤
DocumentSearch(
    ["news"], ["economy"],
    "securities.name:ì‚¼ì„±ì „ì and polarity.label:'-1'"  # -1: ë¶€ì •
)

def filter_negative_news(docs):
    """ë¶€ì • ë‰´ìŠ¤ í•„í„°ë§ í›„ì²˜ë¦¬"""
    return [
        {
            'title': doc['title'],
            'company': [s['name'] for s in doc.get('securities', [])],
            'polarity_score': doc.get('polarity', {}).get('score'),
            'url': doc.get('content_url'),
            'created_at': doc.get('created_at')
        }
        for doc in docs
        if doc.get('polarity', {}).get('label') == '-1'
    ]</code></pre>
        </details>
    </div>
</div>

<!-- Scenario: ì¼ì¼ ë‰´ìŠ¤ ëª¨ë‹ˆí„°ë§ -->
<div class="scenario-card" id="s4-3">
    <div class="scenario-header">
        <h4>ì‹œë‚˜ë¦¬ì˜¤ 3: ì¼ì¼ ë‰´ìŠ¤ ëª¨ë‹ˆí„°ë§</h4>
    </div>
    <div class="scenario-body">
        <div class="scenario-purpose">
            <strong>ëª©ì :</strong> ë§¤ì¼ ì•„ì¹¨ ì „ì¼ ìƒì¥ì‚¬ ê´€ë ¨ ì£¼ìš” ë‰´ìŠ¤ íŒŒì•…
        </div>

        <div class="diagram-box">
            <h4>ì¼ì¼ ëª¨ë‹ˆí„°ë§ í”„ë¡œì„¸ìŠ¤</h4>
            <div class="flow-diagram">
                <div class="flow-step">ì „ì¼ ë‚ ì§œ ì„¤ì •</div>
                <span class="flow-arrow">â†’</span>
                <div class="flow-step api">ë¶€ì • ë‰´ìŠ¤<br>API ì¡°íšŒ</div>
                <span class="flow-arrow">â†’</span>
                <div class="flow-step filter">ê¸°ì—…ë³„ ê·¸ë£¹í•‘</div>
                <span class="flow-arrow">â†’</span>
                <div class="flow-step result">3ê±´ ì´ìƒ ê¸°ì—…<br>ìš°ì„  í™•ì¸</div>
            </div>
        </div>

        <details>
            <summary>ì½”ë“œ ë³´ê¸°</summary>
<pre><code>from datetime import datetime, timedelta

def daily_news_monitoring():
    """ì¼ì¼ ìƒì¥ì‚¬ ë‰´ìŠ¤ ëª¨ë‹ˆí„°ë§"""

    yesterday = (datetime.now() - timedelta(days=1)).strftime("%Y%m%d")
    today = datetime.now().strftime("%Y%m%d")

    # 1. KOSPI/KOSDAQ ë¶€ì • ë‰´ìŠ¤ ìˆ˜ì§‘
    negative_news = DocumentSearch(
        ["news"], ["economy"],
        "securities.market:(KOSPI or KOSDAQ) and polarity.name:ë¶€ì •",
        date_from=yesterday,
        date_to=today,
        count=100
    )

    # 2. ê¸°ì—…ë³„ ê·¸ë£¹í•‘
    by_company = {}
    for doc in negative_news['docs']:
        for sec in doc.get('securities', []):
            name = sec['name']
            if name not in by_company:
                by_company[name] = []
            by_company[name].append({
                'title': doc['title'],
                'polarity_score': doc.get('polarity', {}).get('score'),
                'url': doc['content_url']
            })

    # 3. ë¶€ì • ë‰´ìŠ¤ 3ê±´ ì´ìƒì¸ ê¸°ì—… ìš°ì„  í™•ì¸
    alert_companies = {
        k: v for k, v in by_company.items() if len(v) >= 3
    }

    return alert_companies</code></pre>
        </details>
    </div>
</div>

<!-- Scenario: ê³µì‹œ ì˜ë¬´ ë°œìƒ ê°€ëŠ¥ì„± íƒì§€ -->
<div class="scenario-card" id="s4-4">
    <div class="scenario-header">
        <h4>ì‹œë‚˜ë¦¬ì˜¤ 4: ê³µì‹œ ì˜ë¬´ ë°œìƒ ê°€ëŠ¥ì„± íƒì§€</h4>
    </div>
    <div class="scenario-body">
        <div class="scenario-purpose">
            <strong>ëª©ì :</strong> ì£¼ìš”ê²½ì˜ì‚¬í•­ ê³µì‹œ ë˜ëŠ” ì¡°íšŒê³µì‹œ ëŒ€ìƒì´ ë  ìˆ˜ ìˆëŠ” ë‰´ìŠ¤ ì‚¬ì „ íƒì§€
        </div>

        <div class="diagram-box">
            <h4>ê³µì‹œ ì˜ë¬´ íƒì§€ í”„ë¡œì„¸ìŠ¤</h4>
            <div class="flow-diagram">
                <div class="flow-step">ê³µì‹œ ê´€ë ¨ í‚¤ì›Œë“œ<br>ì •ì˜</div>
                <span class="flow-arrow">â†’</span>
                <div class="flow-step api">ìƒì¥ì‚¬ ê¸°ì‚¬ +<br>í‚¤ì›Œë“œ ê²€ìƒ‰</div>
                <span class="flow-arrow">â†’</span>
                <div class="flow-step filter">ê¸´ê¸‰ë„ë³„ ë¶„ë¥˜<br>(íš¡ë ¹/ë°°ì„ ë“±)</div>
                <span class="flow-arrow">â†’</span>
                <div class="flow-step result">ì¦‰ì‹œí™•ì¸ /<br>ëª¨ë‹ˆí„°ë§ ë¶„ë¥˜</div>
            </div>
        </div>

        <details>
            <summary>ì½”ë“œ ë³´ê¸°</summary>
<pre><code>def detect_disclosure_candidates():
    """ê³µì‹œ ì˜ë¬´ ë°œìƒ ê°€ëŠ¥ì„±ì´ ë†’ì€ ë‰´ìŠ¤ íƒì§€"""

    # ê³µì‹œ ì˜ë¬´ ê´€ë ¨ í‚¤ì›Œë“œ
    disclosure_keywords = [
        "ì¸ìˆ˜", "í•©ë³‘", "M&A", "ë§¤ê°", "ë¶„í• ",
        "ìœ ìƒì¦ì", "ë¬´ìƒì¦ì", "ê°ì",
        "íš¡ë ¹", "ë°°ì„", "íšŒê³„ë¶€ì •", "ë¶„ì‹",
        "ëŒ€í‘œì´ì‚¬ ì‚¬ì„", "ëŒ€í‘œì´ì‚¬ ì„ ì„",
        "ì˜ì—…ì •ì§€", "í—ˆê°€ì·¨ì†Œ", "í–‰ì •ì²˜ë¶„",
        "ì†Œì†¡ ì œê¸°", "íŒ¨ì†Œ", "ì†í•´ë°°ìƒ",
        "ì‹¤ì  ì‡¼í¬", "ì ì ì „í™˜", "ê°ì‚¬ì˜ê²¬ ê±°ì ˆ"
    ]

    # í‚¤ì›Œë“œë¥¼ title/content ê²€ìƒ‰ìœ¼ë¡œ êµ¬ì„±
    keyword_query = " or ".join([f'(title:"{kw}" or content:"{kw}")' for kw in disclosure_keywords])
    query = f"securities.market:(KOSPI or KOSDAQ) and ({keyword_query})"

    docs = DocumentSearch(
        ["news"], ["economy"],
        query,
        count=50
    )

    # ê¸´ê¸‰ë„ ë¶„ë¥˜
    urgent = []     # ì¦‰ì‹œ í™•ì¸ í•„ìš”
    watch = []      # ëª¨ë‹ˆí„°ë§ í•„ìš”

    for doc in docs['docs']:
        title = doc['title']

        # ê¸´ê¸‰ í‚¤ì›Œë“œ
        if any(kw in title for kw in ['íš¡ë ¹', 'ë°°ì„', 'ë¶„ì‹', 'ê°ì‚¬ì˜ê²¬']):
            urgent.append(doc)
        else:
            watch.append(doc)

    return {'urgent': urgent, 'watch': watch}</code></pre>
        </details>
    </div>
</div>

<!-- Scenario: íŠ¹ì • í…Œë§ˆ/ì´ìŠˆ ëª¨ë‹ˆí„°ë§ -->
<div class="scenario-card" id="s4-5">
    <div class="scenario-header">
        <h4>ì‹œë‚˜ë¦¬ì˜¤ 5: íŠ¹ì • í…Œë§ˆ/ì´ìŠˆ ëª¨ë‹ˆí„°ë§</h4>
    </div>
    <div class="scenario-body">
        <div class="scenario-purpose">
            <strong>ëª©ì :</strong> íŠ¹ì • í…Œë§ˆ(ì˜ˆ: AI, 2ì°¨ì „ì§€) ê´€ë ¨ ìƒì¥ì‚¬ ë‰´ìŠ¤ ì¶”ì 
        </div>

        <div class="diagram-box">
            <h4>í…Œë§ˆ ëª¨ë‹ˆí„°ë§ í”„ë¡œì„¸ìŠ¤</h4>
            <div class="flow-diagram">
                <div class="flow-step">í…Œë§ˆ í‚¤ì›Œë“œ<br>ì •ì˜</div>
                <span class="flow-arrow">â†’</span>
                <div class="flow-step api">ìƒì¥ì‚¬ ê¸°ì‚¬ +<br>í…Œë§ˆ í‚¤ì›Œë“œ</div>
                <span class="flow-arrow">â†’</span>
                <div class="flow-step filter">ê¸°ì—…ë³„ ì–¸ê¸‰ë¹ˆë„<br>ì§‘ê³„</div>
                <span class="flow-arrow">â†’</span>
                <div class="flow-step result">í…Œë§ˆ ê´€ë ¨<br>ìƒì¥ì‚¬ ìˆœìœ„</div>
            </div>
        </div>

        <details>
            <summary>ì½”ë“œ ë³´ê¸°</summary>
<pre><code>def theme_monitoring(theme_keywords, markets=['KOSPI', 'KOSDAQ']):
    """íŠ¹ì • í…Œë§ˆ ê´€ë ¨ ìƒì¥ì‚¬ ë‰´ìŠ¤ ëª¨ë‹ˆí„°ë§

    Args:
        theme_keywords: ['AI', 'ì¸ê³µì§€ëŠ¥', 'ìƒì„±AI', 'ChatGPT']
        markets: ['KOSPI', 'KOSDAQ']
    """
    from datetime import datetime, timedelta

    # 1. í…Œë§ˆ í‚¤ì›Œë“œ ì¿¼ë¦¬ êµ¬ì„± (title/content ê²€ìƒ‰)
    theme_query = " or ".join([f'(title:"{kw}" or content:"{kw}")' for kw in theme_keywords])
    market_query = " or ".join(markets)

    query = f"securities.market:({market_query}) and ({theme_query})"

    # 2. ìµœê·¼ 1ì£¼ì¼ ë‰´ìŠ¤ ê²€ìƒ‰
    docs = DocumentSearch(
        ["news"], [],
        query,
        count=100,
        date_from=(datetime.now() - timedelta(days=7)).strftime("%Y%m%d")
    )

    # 3. ê¸°ì—…ë³„ ì–¸ê¸‰ ë¹ˆë„ ì§‘ê³„
    company_mentions = {}
    for doc in docs['docs']:
        for sec in doc.get('securities', []):
            name = sec['name']
            symbol = sec['symbol']
            key = f"{name}({symbol})"

            if key not in company_mentions:
                company_mentions[key] = {
                    'count': 0,
                    'positive': 0,
                    'negative': 0
                }

            company_mentions[key]['count'] += 1

            pol = doc.get('polarity', {}).get('name', 'ì¤‘ë¦½')
            if pol == 'ê¸ì •':
                company_mentions[key]['positive'] += 1
            elif pol == 'ë¶€ì •':
                company_mentions[key]['negative'] += 1

    # 4. ì–¸ê¸‰ ë¹ˆë„ìˆœ ì •ë ¬
    sorted_companies = sorted(
        company_mentions.items(),
        key=lambda x: x[1]['count'],
        reverse=True
    )

    return sorted_companies[:20]

# ì‚¬ìš© ì˜ˆì‹œ
ai_companies = theme_monitoring(['AI', 'ì¸ê³µì§€ëŠ¥', 'ìƒì„±AI', 'ChatGPT', 'LLM'])
battery_companies = theme_monitoring(['2ì°¨ì „ì§€', 'ë°°í„°ë¦¬', 'ë¦¬íŠ¬', 'ì–‘ê·¹ì¬', 'ìŒê·¹ì¬'])</code></pre>
        </details>
    </div>
</div>

<!-- Scenario: ì‹¤ì‹œê°„ ì´ìŠˆ ëŒ€ì‘ -->
<div class="scenario-card" id="s4-6">
    <div class="scenario-header">
        <h4>ì‹œë‚˜ë¦¬ì˜¤ 6: ì‹¤ì‹œê°„ ì´ìŠˆ ëŒ€ì‘</h4>
    </div>
    <div class="scenario-body">
        <div class="scenario-purpose">
            <strong>ëª©ì :</strong> ì‹¤ì‹œê°„ íŠ¸ë Œë”© ì´ìŠˆ ì¤‘ ìƒì¥ì‚¬ ê´€ë ¨ ê±´ ì‹ ì† íŒŒì•…
        </div>

        <div class="diagram-box">
            <h4>ì‹¤ì‹œê°„ ì´ìŠˆ ëŒ€ì‘ í”„ë¡œì„¸ìŠ¤</h4>
            <div class="flow-diagram">
                <div class="flow-step api">íŠ¸ë Œë”© í† í”½<br>ì¡°íšŒ</div>
                <span class="flow-arrow">â†’</span>
                <div class="flow-step filter">ìƒì¥ì‚¬ ê´€ë ¨<br>í† í”½ í•„í„°</div>
                <span class="flow-arrow">â†’</span>
                <div class="flow-step filter">ë¶€ì • ì´ìŠˆ<br>ìš°ì„  ì •ë ¬</div>
                <span class="flow-arrow">â†’</span>
                <div class="flow-step result">ì‹¤ì‹œê°„ ì•Œë¦¼</div>
            </div>
        </div>

        <details>
            <summary>ì½”ë“œ ë³´ê¸°</summary>
<pre><code>def realtime_issue_monitoring():
    """ì‹¤ì‹œê°„ íŠ¸ë Œë”© ì´ìŠˆ ì¤‘ ìƒì¥ì‚¬ ê´€ë ¨ ê±´ ëª¨ë‹ˆí„°ë§"""

    # 1. í˜„ì¬ íŠ¸ë Œë”© í† í”½ ì¡°íšŒ
    trending = SearchTrendingTopics(["news"], ["economy"])

    # 2. ìƒì¥ì‚¬ ê´€ë ¨ í† í”½ í•„í„°ë§
    stock_related_topics = []

    for topic in trending['topics']['news']['economy']:
        securities = topic.get('statistics', {}).get('securities', [])

        if securities:
            stock_related_topics.append({
                'rank': topic['rank'],
                'topic': topic['topic'],
                'score': topic['score'],
                'keywords': [k['keyword'] for k in topic.get('keywords', [])[:5]],
                'companies': [f"{s['name']}({s['market']})" for s in securities[:5]],
                'sentiment': topic.get('statistics', {}).get('polarities', [])
            })

    # 3. ë¶€ì •ì  ì´ìŠˆ ìš°ì„  ì •ë ¬
    def has_negative_sentiment(topic):
        for pol in topic.get('sentiment', []):
            if pol.get('label') == '-1' and pol.get('doc_count', 0) > 0:
                return True
        return False

    negative_first = sorted(
        stock_related_topics,
        key=lambda x: (has_negative_sentiment(x), -x['score']),
        reverse=True
    )

    return negative_first</code></pre>
        </details>
    </div>
</div>

<!-- Scenario: ë¹„ìƒì¥ì‚¬ ì™¸ê°ì¬ë¬´ìˆ˜ì¹˜ ìë™ìˆ˜ì§‘ -->
<div class="scenario-card" id="s4-7">
    <div class="scenario-header">
        <h4>ì‹œë‚˜ë¦¬ì˜¤ 7: ë¹„ìƒì¥ì‚¬ ì™¸ê°ì¬ë¬´ìˆ˜ì¹˜ ìë™ìˆ˜ì§‘</h4>
    </div>
    <div class="scenario-body">
        <div class="scenario-purpose">
            <strong>ëª©ì :</strong> ìƒì¥ ì˜ˆì • ê¸°ì—… ë˜ëŠ” ìƒì¥ì‚¬ ì£¼ìš” ì¢…ì†íšŒì‚¬ì˜ ì¬ë¬´ì œí‘œë¥¼ ìë™ìœ¼ë¡œ ìˆ˜ì§‘í•˜ì—¬ ìƒì¥ì‹¬ì‚¬/ëª¨ë‹ˆí„°ë§ì— í™œìš©
        </div>

        <div class="diagram-box">
            <h4>ë¹„ìƒì¥ì‚¬ ì¬ë¬´ë°ì´í„° ìˆ˜ì§‘ í”„ë¡œì„¸ìŠ¤</h4>
            <div class="flow-diagram">
                <div class="flow-step">ëŒ€ìƒ ê¸°ì—…<br>ê²€ìƒ‰ (NICE ì½”ë“œ)</div>
                <span class="flow-arrow">â†’</span>
                <div class="flow-step api">GetFinancialStatements<br>ì¬ë¬´ì œí‘œ ì¡°íšŒ</div>
                <span class="flow-arrow">â†’</span>
                <div class="flow-step filter">ì£¼ìš” ê³„ì •<br>ì¶”ì¶œ/ì§‘ê³„</div>
                <span class="flow-arrow">â†’</span>
                <div class="flow-step result">ì¬ë¬´ì¶”ì´ ë¶„ì„<br>ì´ìƒì§•í›„ íƒì§€</div>
            </div>
        </div>

        <div class="info-box">
            <strong>NICEí‰ê°€ì •ë³´ ë°ì´í„° í™œìš©</strong><br>
            DeepSearchì˜ ì¬ë¬´ë°ì´í„°ëŠ” <strong>NICEí‰ê°€ì •ë³´</strong>ì—ì„œ ì œê³µë©ë‹ˆë‹¤. NICEí‰ê°€ì •ë³´ëŠ” êµ­ë‚´ ê¸ˆìœµê¸°ê´€ì— ì¬ë¬´ë°ì´í„°ë¥¼ ì§€ë°°ì ìœ¼ë¡œ ê³µê¸‰í•˜ëŠ” ê¸°ê´€ìœ¼ë¡œ, ì€í–‰ ëŒ€ì¶œì‹¬ì‚¬, ì‹ ìš©í‰ê°€, ê¸°ì—…ì‹ ìš©ì¡°íšŒ ë“±ì— ë™ì¼í•œ ë°ì´í„°ê°€ í™œìš©ë©ë‹ˆë‹¤.<br><br>
            â€¢ <strong>IFRS / K-GAAP</strong> ëª¨ë‘ ì§€ì›<br>
            â€¢ <strong>ì—°ê²°/ë³„ë„</strong> ì¬ë¬´ì œí‘œ ì„ íƒ ê°€ëŠ¥<br>
            â€¢ <strong>ì—°ê°„/ë¶„ê¸°</strong> ë°ì´í„° ì¡°íšŒ ê°€ëŠ¥<br>
            â€¢ ì™¸ë¶€ê°ì‚¬ëŒ€ìƒ ë¹„ìƒì¥ê¸°ì—… ì „ìˆ˜ ì»¤ë²„ë¦¬ì§€
        </div>

        <details>
            <summary>ì½”ë“œ ë³´ê¸°</summary>
<pre><code># 1. ë¹„ìƒì¥ ê¸°ì—… ê²€ìƒ‰ (NICE ì½”ë“œ í™•ë³´)
# ë°©ë²• 1: ê¸°ì—…ëª…ìœ¼ë¡œ ê²€ìƒ‰
entities = FindEntity("Financial", "ì¹´ì¹´ì˜¤ë±…í¬*")
# ê²°ê³¼: NICE:xxxxxx í˜•íƒœì˜ ì½”ë“œ í™•ì¸

# ë°©ë²• 2: ì‚¬ì—…ìë“±ë¡ë²ˆí˜¸ë¡œ ê²€ìƒ‰ (ëŒ€ì‹œ ì—†ì´ ìˆ«ìë§Œ)
entities = FindEntity("Financial", "1234567890", fields=["business_rid"])

# ë°©ë²• 3: ìƒì¥ì‚¬ì˜ ì£¼ìš” ì¢…ì†íšŒì‚¬ ê²€ìƒ‰
subsidiaries = FindEntity("Financial", "ì‚¼ì„±ë””ìŠ¤í”Œë ˆì´")  # NICE:xxxxxx


# 2. ì¬ë¬´ì œí‘œ ì¡°íšŒ - IFRS ê¸°ì¤€ ì—°ê²°
fs_ifrs = GetFinancialStatements(
    "NICE:352705",           # ë¹„ìƒì¥ì‚¬ NICE ì½”ë“œ
    report_type="IFRS",
    consolidated=True,        # ì—°ê²°ì¬ë¬´ì œí‘œ
    is_annual=True,           # ì—°ê°„ ë°ì´í„°
    report_ids="BalanceSheet,Income",  # ì¬ë¬´ìƒíƒœí‘œ, ì†ìµê³„ì‚°ì„œ
    date_from="2020-01-01",
    date_to="2024-12-31"
)

# 3. ì¬ë¬´ì œí‘œ ì¡°íšŒ - K-GAAP ê¸°ì¤€
fs_gaap = GetFinancialStatements(
    "NICE:352705",
    report_type="GAAP",       # K-GAAP
    consolidated=False,       # ë³„ë„ì¬ë¬´ì œí‘œ
    is_annual=True,
    date_from="2020-01-01",
    date_to="2024-12-31"
)


# 4. ì£¼ìš” ì¬ë¬´ì§€í‘œ ì¶”ì´ ë¶„ì„ í•¨ìˆ˜
def analyze_financial_trends(entity_code, years=5):
    """ë¹„ìƒì¥ì‚¬ ì£¼ìš” ì¬ë¬´ì§€í‘œ ì¶”ì´ ë¶„ì„"""
    import pandas as pd
    from datetime import datetime, timedelta

    end_date = datetime.now().strftime("%Y-%m-%d")
    start_date = (datetime.now() - timedelta(days=365*years)).strftime("%Y-%m-%d")

    # ì¬ë¬´ì œí‘œ ì¡°íšŒ
    fs = GetFinancialStatements(
        entity_code,
        report_type="IFRS",
        consolidated=True,
        is_annual=True,
        date_from=start_date,
        date_to=end_date
    )

    # ì£¼ìš” ê³„ì • ì½”ë“œ (DeepSearch ì¬ë¬´ê³„ì • ê¸°ì¤€)
    key_accounts = {
        '1100': 'í˜„ê¸ˆë°í˜„ê¸ˆì„±ìì‚°',
        '1300': 'ë§¤ì¶œì±„ê¶Œ',
        '2900': 'ìì‚°ì´ê³„',
        '4000': 'ë¶€ì±„ì´ê³„',
        '5000': 'ìë³¸ì´ê³„',
        '6000': 'ë§¤ì¶œì•¡',
        '6500': 'ì˜ì—…ì´ìµ',
        '7000': 'ë‹¹ê¸°ìˆœì´ìµ'
    }

    # ì—°ë„ë³„ ì£¼ìš” ì§€í‘œ ì¶”ì¶œ
    trends = {}
    for account_id, account_name in key_accounts.items():
        account_data = [
            row for row in fs
            if row['account_id'] == account_id
        ]
        trends[account_name] = {
            row['date'][:4]: row['value']
            for row in account_data
        }

    return trends


# 5. ìƒì¥ì‹¬ì‚¬ ì²´í¬í¬ì¸íŠ¸ ë¶„ì„
def check_listing_requirements(entity_code):
    """ìƒì¥ì˜ˆë¹„ì‹¬ì‚¬ ì¬ë¬´ìš”ê±´ ì²´í¬"""

    fs = GetFinancialStatements(
        entity_code,
        report_type="IFRS",
        consolidated=True,
        is_annual=True,
        date_from="2021-01-01"
    )

    # ìµœê·¼ 3ê°œë…„ ì¶”ì¶œ
    recent_years = {}
    for row in fs:
        year = row['date'][:4]
        if year not in recent_years:
            recent_years[year] = {}
        recent_years[year][row['account_id']] = row['value']

    # ì½”ìŠ¤í”¼ ìƒì¥ìš”ê±´ ì²´í¬ ì˜ˆì‹œ
    checks = {
        'ìê¸°ìë³¸': [],
        'ë§¤ì¶œì•¡': [],
        'ì˜ì—…ì´ìµ': [],
        'ë‹¹ê¸°ìˆœì´ìµ': []
    }

    for year in sorted(recent_years.keys())[-3:]:
        data = recent_years[year]
        checks['ìê¸°ìë³¸'].append(data.get('5000', 0))  # ìë³¸ì´ê³„
        checks['ë§¤ì¶œì•¡'].append(data.get('6000', 0))
        checks['ì˜ì—…ì´ìµ'].append(data.get('6500', 0))
        checks['ë‹¹ê¸°ìˆœì´ìµ'].append(data.get('7000', 0))

    return {
        'ìê¸°ìë³¸_ìµœê·¼': checks['ìê¸°ìë³¸'][-1] if checks['ìê¸°ìë³¸'] else 0,
        'ë§¤ì¶œì•¡_3ë…„í‰ê· ': sum(checks['ë§¤ì¶œì•¡']) / len(checks['ë§¤ì¶œì•¡']) if checks['ë§¤ì¶œì•¡'] else 0,
        'ì˜ì—…ì´ìµ_í‘ìì—°ì†': all(v > 0 for v in checks['ì˜ì—…ì´ìµ']),
        'ë‹¹ê¸°ìˆœì´ìµ_í‘ìì—°ì†': all(v > 0 for v in checks['ë‹¹ê¸°ìˆœì´ìµ'])
    }


# 6. ì‚¬ìš© ì˜ˆì‹œ: ìƒì¥ì˜ˆì •ê¸°ì—… ì¬ë¬´ì¶”ì´ ëª¨ë‹ˆí„°ë§
target_companies = [
    "NICE:352705",  # ì˜ˆì‹œ ê¸°ì—… 1
    "NICE:380679",  # ì˜ˆì‹œ ê¸°ì—… 2
]

for company in target_companies:
    trends = analyze_financial_trends(company, years=3)
    requirements = check_listing_requirements(company)
    print(f"\n{company} ë¶„ì„ ê²°ê³¼:")
    print(f"  - ìê¸°ìë³¸: {requirements['ìê¸°ìë³¸_ìµœê·¼']:,.0f}ì›")
    print(f"  - ì˜ì—…ì´ìµ ì—°ì†í‘ì: {requirements['ì˜ì—…ì´ìµ_í‘ìì—°ì†']}")</code></pre>
        </details>

        <div class="warning-box">
            <strong>í™œìš© ì‹œ ì°¸ê³ ì‚¬í•­</strong><br>
            â€¢ <code>GetAvailableFinancialStatements(entity_code)</code>ë¡œ í•´ë‹¹ ê¸°ì—…ì˜ ì‚¬ìš© ê°€ëŠ¥í•œ ì¬ë¬´ì œí‘œ ëª©ë¡ì„ ë¨¼ì € í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤<br>
            â€¢ ë¹„ìƒì¥ì‚¬ëŠ” <code>NICE:xxxxxx</code> í˜•íƒœì˜ ì½”ë“œë¥¼ ì‚¬ìš©í•©ë‹ˆë‹¤<br>
            â€¢ ë¶„ê¸° ë°ì´í„° ì¡°íšŒ ì‹œ <code>is_annual=False</code>ë¡œ ì„¤ì •í•©ë‹ˆë‹¤<br>
            â€¢ ì¬ë¬´ê³„ì • ì½”ë“œí‘œëŠ” DeepSearch ë¬¸ì„œë¥¼ ì°¸ì¡°í•˜ì„¸ìš”
        </div>
    </div>
</div>

<!-- íŠ¹ì • ì‹œì¥/ì¢…ëª© í•„í„°ë§ ìœ í‹¸ë¦¬í‹° -->
<h3 id="s4-util">ìœ í‹¸ë¦¬í‹° í•¨ìˆ˜: ì‹œì¥/ì¢…ëª© í•„í„°ë§</h3>
<details>
    <summary>ì½”ë“œ ë³´ê¸°</summary>
<pre><code>def filter_by_market(docs, markets=['KOSPI', 'KOSDAQ']):
    """íŠ¹ì • ì‹œì¥ì˜ ì¢…ëª©ë§Œ í•„í„°ë§"""
    filtered = []
    for doc in docs:
        for sec in doc.get('securities', []):
            if sec.get('market') in markets:
                filtered.append(doc)
                break
    return filtered

def filter_by_symbols(docs, symbol_list):
    """íŠ¹ì • ì¢…ëª©ì½”ë“œ ë¦¬ìŠ¤íŠ¸ì— í•´ë‹¹í•˜ëŠ” ë¬¸ì„œë§Œ"""
    filtered = []
    for doc in docs:
        for sec in doc.get('securities', []):
            if sec.get('symbol') in symbol_list:
                filtered.append(doc)
                break
    return filtered</code></pre>
</details>

<h3>ìœ í‹¸ë¦¬í‹° í•¨ìˆ˜: ì§‘ê³„/í†µê³„</h3>
<details>
    <summary>ì½”ë“œ ë³´ê¸°</summary>
<pre><code>from collections import Counter

def analyze_sentiment_distribution(docs):
    """ê¸ë¶€ì • ë¶„í¬ ë¶„ì„"""
    sentiments = Counter()
    for doc in docs:
        pol = doc.get('polarity', {})
        if pol:
            sentiments[pol.get('name', 'ë¯¸ë¶„ë¥˜')] += 1
    return dict(sentiments)

def analyze_company_mentions(docs):
    """ê¸°ì—…ë³„ ì–¸ê¸‰ ë¹ˆë„ ë¶„ì„"""
    mentions = Counter()
    for doc in docs:
        for ne in doc.get('named_entities', []):
            if ne.get('type') == 'company':
                mentions[ne['name']] += ne.get('count', 1)
    return mentions.most_common(20)</code></pre>
</details>
</section>

<!-- Section 5: LLM -->
<section id="llm">
<h2>5. LLMì„ ì—°ê³„í•œ KRX ì‹¤ë¬´í™œìš©ì˜ˆì‹œ</h2>

<div class="info-box">
    DeepSearch APIëŠ” <strong>êµ¬ì¡°í™”ëœ ë°ì´í„°</strong>ë¥¼ ì œê³µí•˜ê³ ,<br>
    LLMì€ <strong>ë¹„ì •í˜• ë¶„ì„ê³¼ íŒë‹¨</strong>ì„ ë‹´ë‹¹í•˜ëŠ” ì—­í•  ë¶„ë‹´ì´ íš¨ê³¼ì ì…ë‹ˆë‹¤.<br><br>
    ì´ ì„¹ì…˜ì—ì„œëŠ” ì•ì„œ ì†Œê°œí•œ ì‹œë‚˜ë¦¬ì˜¤ì— LLMì„ ì¶”ê°€ë¡œ ì—°ê³„í•˜ì—¬ ë” ë†’ì€ ìˆ˜ì¤€ì˜ ë¶„ì„ì„ ìˆ˜í–‰í•˜ëŠ” ë°©ë²•ì„ ì†Œê°œí•©ë‹ˆë‹¤.
</div>

<div class="section-toc">
    <div class="section-toc-title">ì´ ì„¹ì…˜ì˜ ë‚´ìš©</div>
    <ul>
        <li><a href="#s5-1">1. ê³µì‹œ ì˜ë¬´ íŒë‹¨ ë³´ì¡°</a></li>
        <li><a href="#s5-2">2. ì‹¤ì‹œê°„ ì´ìŠˆ ìë™ ëŒ€ì‘</a></li>
        <li><a href="#s5-3">3. ì£¼ê°€ ë³€ë™ ì›ì¸ ë¶„ì„</a></li>
        <li><a href="#s5-4">4. í…Œë§ˆ ë¶„ì„ ì‹¬í™”</a></li>
        <li><a href="#s5-5">5. ì¼ì¼ ë¸Œë¦¬í•‘ ìë™ ìƒì„±</a></li>
        <li><a href="#s5-tips">í”„ë¡¬í”„íŠ¸ ì„¤ê³„ íŒ</a></li>
    </ul>
</div>

<!-- LLM Scenario 1: ê³µì‹œ ì˜ë¬´ íŒë‹¨ ë³´ì¡° -->
<div class="scenario-card" id="s5-1">
    <div class="scenario-header">
        <h4>LLM ì—°ê³„ ì‹œë‚˜ë¦¬ì˜¤ 1: ê³µì‹œ ì˜ë¬´ íŒë‹¨ ë³´ì¡°</h4>
    </div>
    <div class="scenario-body">
        <div class="scenario-purpose">
            <strong>ëª©ì :</strong> DeepSearchë¡œ ìˆ˜ì§‘í•œ ë‰´ìŠ¤ë¥¼ LLMì´ ë¶„ì„í•˜ì—¬ ê³µì‹œ ì˜ë¬´ ë°œìƒ ê°€ëŠ¥ì„± íŒë‹¨
        </div>

        <div class="diagram-box">
            <h4>DeepSearch + LLM ì—°ê³„ í”„ë¡œì„¸ìŠ¤</h4>
            <div class="flow-diagram">
                <div class="flow-step api">DeepSearch<br>ë¶€ì • ë‰´ìŠ¤ ìˆ˜ì§‘</div>
                <span class="flow-arrow">â†’</span>
                <div class="flow-step filter">ìƒì¥ì‚¬ ë§¤í•‘</div>
                <span class="flow-arrow">â†’</span>
                <div class="flow-step llm">LLM<br>ê³µì‹œ ê·œì • ì ìš©</div>
                <span class="flow-arrow">â†’</span>
                <div class="flow-step result">ê³µì‹œ í•„ìš”ì„±<br>íŒë‹¨ ê²°ê³¼</div>
            </div>
        </div>

        <div class="use-case-highlight">
            <strong>LLMì´ ì¶”ê°€í•˜ëŠ” ê°€ì¹˜:</strong><br>
            â€¢ DeepSearch: ë¶€ì • ë‰´ìŠ¤ í•„í„°ë§, ìƒì¥ì‚¬ ë§¤í•‘ (ì •ëŸ‰ì )<br>
            â€¢ LLM: ë‰´ìŠ¤ ë‚´ìš© ì‹¬ì¸µ ë¶„ì„, ê³µì‹œ ê·œì • ì ìš© ì—¬ë¶€ íŒë‹¨ (ì •ì„±ì )
        </div>

        <details>
            <summary>ì½”ë“œ ë³´ê¸°</summary>
<pre><code># 1. DeepSearchë¡œ ë¶€ì • ë‰´ìŠ¤ ìˆ˜ì§‘
query = "securities.market:KOSPI and polarity.name:ë¶€ì •"
docs = DocumentSearch(["news"], ["economy"], query, count=20)

# 2. LLMì—ê²Œ ê³µì‹œ í•„ìš”ì„± íŒë‹¨ ìš”ì²­
for doc in docs['docs']:
    prompt = f"""
ë‹¹ì‹ ì€ í•œêµ­ê±°ë˜ì†Œì˜ ì‹œì¥ê°ì‹œ ë‹´ë‹¹ìì…ë‹ˆë‹¤.
ë‹¤ìŒ ë‰´ìŠ¤ê°€ ê³µì‹œ ì˜ë¬´ë¥¼ ë°œìƒì‹œí‚¬ ìˆ˜ ìˆëŠ”ì§€ ë¶„ì„í•´ì£¼ì„¸ìš”.

[ë‰´ìŠ¤ ì œëª©]: {doc['title']}
[ë‰´ìŠ¤ ìš”ì•½]: {doc['content']}
[ê´€ë ¨ ê¸°ì—…]: {', '.join([s['name'] for s in doc.get('securities', [])])}
[ì›ë¬¸ ë§í¬]: {doc.get('content_url')}

ë¶„ì„ ê´€ì :
1. ì£¼ìš”ê²½ì˜ì‚¬í•­ ê³µì‹œ ëŒ€ìƒì¸ê°€?
2. ì¡°íšŒê³µì‹œ ìš”êµ¬ ê°€ëŠ¥ì„±ì´ ìˆëŠ”ê°€?
3. ë¶ˆê³µì •ê±°ë˜ í˜ì˜ ìš”ì†Œê°€ ìˆëŠ”ê°€?

[ì¶œë ¥ í˜•ì‹]
- ê³µì‹œ í•„ìš”ì„±: ë†’ìŒ/ì¤‘ê°„/ë‚®ìŒ
- ê´€ë ¨ ê³µì‹œ ìœ í˜•: (í•´ë‹¹ì‹œ ê¸°ì¬)
- ê¸´ê¸‰ë„: ì¦‰ì‹œ/1ì¼ë‚´/1ì£¼ë‚´
- ê·¼ê±°: (ë¶„ì„ ë‚´ìš©)
"""
    # LLM API í˜¸ì¶œ
    # response = call_llm(prompt)</code></pre>
        </details>
    </div>
</div>

<!-- LLM Scenario 2: ì‹¤ì‹œê°„ ì´ìŠˆ ìë™ ëŒ€ì‘ -->
<div class="scenario-card" id="s5-2">
    <div class="scenario-header">
        <h4>LLM ì—°ê³„ ì‹œë‚˜ë¦¬ì˜¤ 2: ì‹¤ì‹œê°„ ì´ìŠˆ ìë™ ëŒ€ì‘</h4>
    </div>
    <div class="scenario-body">
        <div class="scenario-purpose">
            <strong>ëª©ì :</strong> íŠ¸ë Œë”© ì´ìŠˆê°€ ë°œìƒí–ˆì„ ë•Œ LLMì´ ì¦‰ì‹œ ë¶„ì„í•˜ì—¬ ëŒ€ì‘ ë°©ì•ˆ ì œì‹œ
        </div>

        <div class="diagram-box">
            <h4>ì‹¤ì‹œê°„ ì´ìŠˆ ëŒ€ì‘ + LLM</h4>
            <div class="flow-diagram">
                <div class="flow-step api">íŠ¸ë Œë”© í† í”½<br>ê°ì§€</div>
                <span class="flow-arrow">â†’</span>
                <div class="flow-step filter">ìƒì¥ì‚¬ ê´€ë ¨<br>í•„í„°ë§</div>
                <span class="flow-arrow">â†’</span>
                <div class="flow-step llm">LLM<br>ê¸´ê¸‰ë„ íŒë‹¨</div>
                <span class="flow-arrow">â†’</span>
                <div class="flow-step result">ìë™ ì•Œë¦¼ +<br>ëŒ€ì‘ ë°©ì•ˆ</div>
            </div>
        </div>

        <details>
            <summary>ì½”ë“œ ë³´ê¸°</summary>
<pre><code># 1. íŠ¸ë Œë”© í† í”½ ì¡°íšŒ (ì•ì„œ ì •ì˜í•œ í•¨ìˆ˜ í™œìš©)
trending = realtime_issue_monitoring()

# 2. ìƒì¥ì‚¬ ê´€ë ¨ ë¶€ì • ì´ìŠˆê°€ ìˆìœ¼ë©´ LLM ë¶„ì„
for topic in trending[:5]:  # ìƒìœ„ 5ê°œ í† í”½ë§Œ ë¶„ì„
    if any(pol.get('label') == '-1' for pol in topic.get('sentiment', [])):

        prompt = f"""
ì‹¤ì‹œê°„ìœ¼ë¡œ ë‹¤ìŒê³¼ ê°™ì€ ì´ìŠˆê°€ íŠ¸ë Œë”©ë˜ê³  ìˆìŠµë‹ˆë‹¤.
í•œêµ­ê±°ë˜ì†Œ ì‹œì¥ê°ì‹œ ë‹´ë‹¹ìë¡œì„œ ëŒ€ì‘ ë°©ì•ˆì„ ì œì‹œí•´ì£¼ì„¸ìš”.

[ì´ìŠˆ ì •ë³´]
- í† í”½: {topic['topic']}
- ìˆœìœ„: {topic['rank']}
- ì£¼ìš” í‚¤ì›Œë“œ: {', '.join(topic['keywords'])}
- ê´€ë ¨ ìƒì¥ì‚¬: {', '.join(topic['companies'])}

[ìš”ì²­ ì‚¬í•­]
1. ì´ìŠˆì˜ ì‹¬ê°ë„ í‰ê°€ (1-10ì )
2. ì¦‰ê°ì ì¸ ì¡°ì¹˜ í•„ìš” ì—¬ë¶€
3. ì¡°íšŒê³µì‹œ ìš”êµ¬ ëŒ€ìƒ ê¸°ì—… (í•´ë‹¹ì‹œ)
4. í–¥í›„ 24ì‹œê°„ ëª¨ë‹ˆí„°ë§ í¬ì¸íŠ¸
5. ê¶Œì¥ ëŒ€ì‘ ì¡°ì¹˜
"""
        # LLM API í˜¸ì¶œ
        # response = call_llm(prompt)</code></pre>
        </details>
    </div>
</div>

<!-- LLM Scenario 3: ì£¼ê°€ ë³€ë™ ì›ì¸ ë¶„ì„ -->
<div class="scenario-card" id="s5-3">
    <div class="scenario-header">
        <h4>LLM ì—°ê³„ ì‹œë‚˜ë¦¬ì˜¤ 3: ì£¼ê°€ ë³€ë™ ì›ì¸ ë¶„ì„</h4>
    </div>
    <div class="scenario-body">
        <div class="scenario-purpose">
            <strong>ëª©ì :</strong> ê¸‰ë“±/ê¸‰ë½ ì‹œì ì˜ ë‰´ìŠ¤ì™€ ê°ì„± ë°ì´í„°ë¥¼ LLMì´ ì¢…í•© ë¶„ì„í•˜ì—¬ ì›ì¸ ì¶”ë¡ 
        </div>

        <div class="diagram-box">
            <h4>ì£¼ê°€ ë³€ë™ ë¶„ì„ í”„ë¡œì„¸ìŠ¤</h4>
            <div class="flow-diagram">
                <div class="flow-step">ê¸‰ë“±/ê¸‰ë½<br>ì¢…ëª© ì‹ë³„</div>
                <span class="flow-arrow">â†’</span>
                <div class="flow-step api">í•´ë‹¹ ì‹œì <br>ë‰´ìŠ¤ ìˆ˜ì§‘</div>
                <span class="flow-arrow">â†’</span>
                <div class="flow-step api">ê°ì„± ì¶”ì´<br>ì¡°íšŒ</div>
                <span class="flow-arrow">â†’</span>
                <div class="flow-step llm">LLM<br>ì›ì¸ ë¶„ì„</div>
            </div>
        </div>

        <details>
            <summary>ì½”ë“œ ë³´ê¸°</summary>
<pre><code># 1. ê¸‰ë“± ì‹œì  ì „í›„ ë‰´ìŠ¤ ìˆ˜ì§‘
target_date = "2024-01-15"
query = f'securities.symbol:005930 and created_at:["{target_date}T00:00:00" to "{target_date}T23:59:59"]'
docs = DocumentSearch(["news"], ["economy"], query)

# 2. ê°ì„± ì¶”ì´ ì¡°íšŒ
trends = GetSentimentScore("ì‚¼ì„±ì „ì", interval="1d", date_from="20240101", date_to="20240120")

# 3. LLM ë¶„ì„
def format_news_for_llm(docs):
    return "\n".join([
        f"- [{doc.get('created_at', '')[:16]}] [{doc.get('polarity', {}).get('name', 'ì¤‘ë¦½')}] {doc['title']}"
        for doc in docs['docs'][:20]
    ])

prompt = f"""
2024ë…„ 1ì›” 15ì¼ ì‚¼ì„±ì „ì ì£¼ê°€ê°€ 5% ê¸‰ë“±í–ˆìŠµë‹ˆë‹¤.
í•´ë‹¹ ì¼ìì˜ ë‰´ìŠ¤ì™€ ìµœê·¼ ê°ì„± ì¶”ì´ë¥¼ ë¶„ì„í•˜ì—¬ ì›ì¸ì„ ì¶”ë¡ í•´ì£¼ì„¸ìš”.

[ë‹¹ì¼ ì£¼ìš” ë‰´ìŠ¤]
{format_news_for_llm(docs)}

[ìµœê·¼ ê°ì„± ì¶”ì´]
- 1/10: ê¸ì • 45%, ë¶€ì • 30%, ì¤‘ë¦½ 25%
- 1/11: ê¸ì • 50%, ë¶€ì • 25%, ì¤‘ë¦½ 25%
- 1/12: ê¸ì • 55%, ë¶€ì • 20%, ì¤‘ë¦½ 25%
- 1/15: ê¸ì • 70%, ë¶€ì • 10%, ì¤‘ë¦½ 20%

[ë¶„ì„ ìš”ì²­]
1. ì£¼ê°€ ìƒìŠ¹ì˜ ì§ì ‘ì  ì›ì¸ìœ¼ë¡œ ë³´ì´ëŠ” ë‰´ìŠ¤
2. ê°„ì ‘ì /ë³µí•©ì  ìš”ì¸
3. í–¥í›„ ì£¼ì˜ ê´€ì°° í¬ì¸íŠ¸
"""</code></pre>
        </details>
    </div>
</div>

<!-- LLM Scenario 4: í…Œë§ˆ ë¶„ì„ ì‹¬í™” -->
<div class="scenario-card" id="s5-4">
    <div class="scenario-header">
        <h4>LLM ì—°ê³„ ì‹œë‚˜ë¦¬ì˜¤ 4: í…Œë§ˆ ë¶„ì„ ì‹¬í™”</h4>
    </div>
    <div class="scenario-body">
        <div class="scenario-purpose">
            <strong>ëª©ì :</strong> íŠ¹ì • í…Œë§ˆ(AI, 2ì°¨ì „ì§€ ë“±) ê´€ë ¨ ë‰´ìŠ¤ë¥¼ LLMì´ ë¶„ì„í•˜ì—¬ íˆ¬ì íŠ¸ë Œë“œ íŒŒì•…
        </div>

        <div class="diagram-box">
            <h4>í…Œë§ˆ ì‹¬ì¸µ ë¶„ì„ í”„ë¡œì„¸ìŠ¤</h4>
            <div class="flow-diagram">
                <div class="flow-step api">DeepSearch<br>í…Œë§ˆ ë‰´ìŠ¤ ìˆ˜ì§‘</div>
                <span class="flow-arrow">â†’</span>
                <div class="flow-step filter">ê¸°ì—…ë³„ ì§‘ê³„</div>
                <span class="flow-arrow">â†’</span>
                <div class="flow-step llm">LLM<br>íŠ¸ë Œë“œ ë¶„ì„</div>
                <span class="flow-arrow">â†’</span>
                <div class="flow-step result">í…Œë§ˆ ë¶„ì„<br>ë¦¬í¬íŠ¸</div>
            </div>
        </div>

        <details>
            <summary>ì½”ë“œ ë³´ê¸°</summary>
<pre><code># 1. AI í…Œë§ˆ ë‰´ìŠ¤ ìˆ˜ì§‘ (ì•ì„œ ì •ì˜í•œ í•¨ìˆ˜ í™œìš©)
ai_news = DocumentSearch(
    ["news"], ["economy"],
    'securities.market:(KOSPI or KOSDAQ) and (title:"AI" or title:"ì¸ê³µì§€ëŠ¥" or content:"ìƒì„±AI")',
    count=50,
    date_from=(datetime.now() - timedelta(days=7)).strftime("%Y%m%d")
)

# 2. ê¸°ì—…ë³„ ì§‘ê³„
from collections import Counter
company_counter = Counter()
for doc in ai_news['docs']:
    for sec in doc.get('securities', []):
        company_counter[sec['name']] += 1

top_companies = company_counter.most_common(10)

# 3. LLMì—ê²Œ íŠ¸ë Œë“œ ë¶„ì„ ìš”ì²­
news_titles = "\n".join([f"- {doc['title']}" for doc in ai_news['docs'][:30]])

prompt = f"""
ë‹¹ì‹ ì€ ì¦ê¶Œ ì‹œì¥ ì• ë„ë¦¬ìŠ¤íŠ¸ì…ë‹ˆë‹¤.
ìµœê·¼ 1ì£¼ì¼ê°„ AI ê´€ë ¨ ë‰´ìŠ¤ë¥¼ ë¶„ì„í•˜ì—¬ íˆ¬ì íŠ¸ë Œë“œë¥¼ íŒŒì•…í•´ì£¼ì„¸ìš”.

[AI ê´€ë ¨ ë‰´ìŠ¤ (ìµœê·¼ 1ì£¼ì¼)]
{news_titles}

[AI í…Œë§ˆ ì–¸ê¸‰ ë¹ˆë„ ìƒìœ„ ê¸°ì—…]
{', '.join([f"{name}({count}ê±´)" for name, count in top_companies])}

[ë¶„ì„ ìš”ì²­]
1. AI í…Œë§ˆì˜ ìµœê·¼ ë™í–¥ (3-5ë¬¸ì¥)
2. ì£¼ëª©í•´ì•¼ í•  ê¸°ì—…ê³¼ ê·¸ ì´ìœ 
3. í–¥í›„ 1-2ì£¼ ëª¨ë‹ˆí„°ë§ í¬ì¸íŠ¸
4. ì ì¬ì  ë¦¬ìŠ¤í¬ ìš”ì¸
"""</code></pre>
        </details>
    </div>
</div>

<!-- LLM Scenario 5: ì¼ì¼ ë‰´ìŠ¤ ìš”ì•½ ë° ë¸Œë¦¬í•‘ ìë™ ìƒì„± -->
<div class="scenario-card" id="s5-5">
    <div class="scenario-header">
        <h4>LLM ì—°ê³„ ì‹œë‚˜ë¦¬ì˜¤ 5: ì¼ì¼ ë‰´ìŠ¤ ìš”ì•½ ë° ë¸Œë¦¬í•‘ ìë™ ìƒì„±</h4>
    </div>
    <div class="scenario-body">
        <div class="scenario-purpose">
            <strong>ëª©ì :</strong> ëŒ€ëŸ‰ì˜ ë‰´ìŠ¤ë¥¼ LLMì´ ìš”ì•½í•˜ì—¬ ê²½ì˜ì§„ ë³´ê³ ìš© ë¸Œë¦¬í•‘ ìë™ ìƒì„±
        </div>

        <div class="diagram-box">
            <h4>ìë™ ë¸Œë¦¬í•‘ ìƒì„± í”„ë¡œì„¸ìŠ¤</h4>
            <div class="flow-diagram">
                <div class="flow-step api">DeepSearch<br>ì¼ì¼ ë‰´ìŠ¤ ìˆ˜ì§‘</div>
                <span class="flow-arrow">â†’</span>
                <div class="flow-step filter">ê¸°ì—…ë³„/ì´ìŠˆë³„<br>ê·¸ë£¹í•‘</div>
                <span class="flow-arrow">â†’</span>
                <div class="flow-step llm">LLM<br>ìš”ì•½ ë° ë¶„ë¥˜</div>
                <span class="flow-arrow">â†’</span>
                <div class="flow-step result">ì¼ì¼ ë¸Œë¦¬í•‘<br>ë¦¬í¬íŠ¸</div>
            </div>
        </div>

        <details>
            <summary>ì½”ë“œ ë³´ê¸°</summary>
<pre><code># 1. íŠ¹ì • ê¸°ì—…ì˜ ìµœê·¼ ë‰´ìŠ¤ ìˆ˜ì§‘
docs = DocumentSearch(
    ["news"], ["economy"],
    "securities.market:(KOSPI or KOSDAQ)",
    count=100,
    date_from=(datetime.now() - timedelta(days=1)).strftime("%Y%m%d")
)

# 2. ë‰´ìŠ¤ ëª©ë¡ êµ¬ì„±
news_list = "\n".join([
    f"- [{doc.get('polarity', {}).get('name', 'ì¤‘ë¦½')}] {doc['title']}"
    for doc in docs['docs'][:50]
])

# 3. LLMì—ê²Œ ë¸Œë¦¬í•‘ ìš”ì²­
prompt = f"""
ë‹¹ì‹ ì€ í•œêµ­ê±°ë˜ì†Œì˜ ì‹œì¥ ë¶„ì„ê°€ì…ë‹ˆë‹¤.
ë‹¤ìŒì€ ì˜¤ëŠ˜ ì£¼ìš” ìƒì¥ì‚¬ ê´€ë ¨ ë‰´ìŠ¤ ëª©ë¡ì…ë‹ˆë‹¤.
ì£¼ìš” ì´ìŠˆë¥¼ 3-5ê°œë¡œ ë¶„ë¥˜í•˜ê³  ê°ê° ìš”ì•½í•˜ì—¬ ê²½ì˜ì§„ ë¸Œë¦¬í•‘ í˜•íƒœë¡œ ì‘ì„±í•´ì£¼ì„¸ìš”.

[ë‰´ìŠ¤ ëª©ë¡]
{news_list}

[ì¶œë ¥ í˜•ì‹]
# ì˜¤ëŠ˜ì˜ ì‹œì¥ ì£¼ìš” ì´ìŠˆ ë¸Œë¦¬í•‘

## 1. (ì´ìŠˆ ì œëª©)
- ìš”ì•½: (2-3ë¬¸ì¥)
- ê´€ë ¨ ê¸°ì—…: (ê¸°ì—…ëª… ë‚˜ì—´)
- ì‹œì¥ ì˜í–¥: ê¸ì •/ë¶€ì •/ì¤‘ë¦½
- í›„ì† ëª¨ë‹ˆí„°ë§ í•„ìš” ì—¬ë¶€: Y/N

## 2. (ì´ìŠˆ ì œëª©)
...
"""</code></pre>
        </details>
    </div>
</div>

<h3 id="s5-tips">LLM í”„ë¡¬í”„íŠ¸ ì„¤ê³„ íŒ</h3>
<table>
    <tr><th>íŒ</th><th>ì˜ˆì‹œ</th></tr>
    <tr>
        <td><strong>êµ¬ì¡°í™”ëœ ì¶œë ¥ ìš”ì²­</strong></td>
        <td><code>[í˜•ì‹] - í•­ëª©1: (ê°’) - í•­ëª©2: (ê°’)</code><br>â†’ í›„ì²˜ë¦¬ê°€ ì‰¬ìš´ ì¼ê´€ëœ í˜•ì‹</td>
    </tr>
    <tr>
        <td><strong>ë„ë©”ì¸ ì»¨í…ìŠ¤íŠ¸ ì œê³µ</strong></td>
        <td>"ë‹¹ì‹ ì€ í•œêµ­ê±°ë˜ì†Œì˜ ì‹œì¥ê°ì‹œ ë‹´ë‹¹ìì…ë‹ˆë‹¤."<br>â†’ ê¸ˆìœµ/ì¦ê¶Œ ë„ë©”ì¸ ì§€ì‹ í™œì„±í™”</td>
    </tr>
    <tr>
        <td><strong>íŒë‹¨ ê¸°ì¤€ ëª…ì‹œ</strong></td>
        <td>"ë†’ìŒ: ì¦‰ì‹œ ì¡°ì¹˜, ì¤‘ê°„: 1ì£¼ ë‚´ ëª¨ë‹ˆí„°ë§, ë‚®ìŒ: ì •ê¸°"<br>â†’ ì¼ê´€ëœ íŒë‹¨ ê¸°ì¤€</td>
    </tr>
    <tr>
        <td><strong>ê·¼ê±° ìš”ì²­</strong></td>
        <td>"íŒë‹¨ ê·¼ê±°ë¥¼ ë‰´ìŠ¤ ë‚´ìš©ì—ì„œ ì¸ìš©í•˜ì—¬ ì„¤ëª…"<br>â†’ í• ë£¨ì‹œë„¤ì´ì…˜ ë°©ì§€</td>
    </tr>
</table>
</section>

<footer>
    <p>DeepSearch API ê°€ì´ë“œ | í•œêµ­ê±°ë˜ì†Œ ì—…ë¬´ í™œìš© ì°¸ê³  ìë£Œ</p>
    <p>ë¬¸ì˜: DeepSearch ê¸°ìˆ ì§€ì›</p>
</footer>

</body>
</html>
