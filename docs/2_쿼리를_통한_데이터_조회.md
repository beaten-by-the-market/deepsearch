# 딥서치 쿼리 설명 및 응용

## 쿼리문에 대한 이해

쿼리는 기본적으로 3가지 항목으로 구성됩니다.

1. 기업( ex) 삼성전자 )
2. 속성( ex) 주가 )
3. 기간 혹은 날짜 ( ex) 2018-1-15, 2010-2018, 2017 )

이 중 기업의 경우, 쿼리에서 제외할 수 있으며, 기업을 쿼리에서 제외하면 전체 기업의 데이터를 조회하게 됩니다. 예를 들어, `삼성전자 매출액`으로 질의하면, 삼성전자 매출액 결과를 답변으로 제공하지만, `매출액` 으로 입력하면, 딥서치가 보유한 기업들의 매출액 데이터를 조회합니다.

```
예시 1) 기업 속성
삼성전자 매출

예시 2) 기업 속성 기간(yyyy-yyyy)
삼성전자 매출 2010-2020

예시 3) 기업 속성 기간(yyyy-mm-dd-yyyy-mm-dd)
삼성전자 주가 2020-01-01-2020-12-31
```

## 기업 입력방법

기업을 입력하는 방법은 3가지가 존재합니다. 직접 기업을 입력하는 방법, 데이터를 기반으로 조회하는 방법, 딥서치가 제공하는 기능을 이용하여 조회하는 방법입니다. 아래 링크에서 보다 자세한 방법을 조회하실 수 있습니다.

{% content-ref url="companysearch" %}
[companysearch](https://help.deepsearch.com/dp/api/inquiry/companysearch)
{% endcontent-ref %}

| **구분**            | **형식**                                                                                                                               | **예시**                                                                                                                                                                                                                                         |
| ----------------- | ------------------------------------------------------------------------------------------------------------------------------------ | ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| 직접 입력             | <ul><li>기업1 기업2 ... 기업N</li><li>Symbol1 Symbol2 ... SymbolN</li><li>사업자번호1 사업자번호2 ... 사업자번호N</li><li>법인번호1 법인번호2 ... 법인번호N</li></ul> | <ul><li><p>이름으로 입력</p><ul><li>LG전자 삼성전자 넷마블</li></ul></li><li><p>Symbol로 조회</p><ul><li>KRX:005930 KRX:000660</li></ul></li><li><p>사업자번호로 입력</p><ul><li>1248100998 </li></ul></li><li><p>법인등록번호 입력</p><ul><li>1301110006246</li></ul></li></ul> |
| 데이터 기반으로 조회       | 재무, 개요, 시장 데이터 기반 스크리닝                                                                                                               | <ul><li>매출 < 100000000</li><li>종가 > 50000</li></ul>                                                                                                                                                                                            |
| 딥서치가 제공하는 기능으로 조회 | <ol><li>문서 기반 기업 검색</li><li>주주 기반 기업 검색</li><li>산업 기반 기업 검색</li><li>사업 기반 기업 검색</li></ol>                                            | <ul><li>"전기차" 관련 기업</li><li>"갑질" 뉴스 기업</li><li>"국민연금" 주주 기업</li><li>"건강기능식품" 산업 기업</li><li>"웹툰" 사업 기업</li></ul>                                                                                                                                |

## 데이터 조회

딥서치가 보유한 데이터의 종류이며, 각각의 데이터는 업데이트 주기가 다릅니다. &#x20;

| 데이터 종류 | 업데이트 주기           |
| ------ | ----------------- |
| 시장데이터  | 매일                |
| 재무데이터  | 1년 / 분기 (상장사의 경우) |
| 개요데이터  | 실시간               |
| 문서데이터  | 실시간               |

시장데이터의 업데이트주기는 1일단위이고, 재무계정은 업데이트주기가 1년이므로 재무데이터와 시장데이터를 동시에 조회하게되면 날짜단위가 일치하지 않아서 데이터형식이 달라지게됩니다. 따라서, 재무계정조회시에는 재무계정만 시장데이터조회시에는 시장데이터만 조회하는 것을 권장드립니다.

### 데이터만 입력하는 경우

기업을 입하지않고, 데이터만 입력하는 경우 딥서치가 보유하고 있는 데이터 전체를 조회할 수 있습니다.

{% hint style="info" %}
데이터1 데이터2 ... 데이터N
{% endhint %}

```
예시 1) 전체회사의 매출 영업이익 당기순이익을 조회
매출 영업이익 당기순이익

예시 2) 전체회사의 시가총액을 조회
시가총액
```

### 기업을 직접한 경우 데이터 조회 방법

기업을 직접입력한 경우, 데이터를 조회하는 방법은 아래와 같습니다.기업과 데이터간의 구분은 띄어쓰기로 구분됩니다.

{% hint style="info" %}
기업1 기업2 기업3 ... 기업N 데이터1 데이터2 데이터3 ... 데이터N&#x20;
{% endhint %}

```
예시 1) 복수개 회사의 여러 재무계정 조회
삼성전자 LG전자 SK하이닉스 매출 영업이익 당기순이익 자산 부채 자본

예시 2) 일정기간동안의 복수개 회사의 여러 재무계정을 조회
삼성전자 LG전자 SK하이닉스 매출 영업이익 당기순이익 자산 부채 자본 2015-2020

예시 3) 복수개 회사의 2년동안의 주가 및 시가총액을 조회
삼성전자 LG전자 SK하이닉스 종가 시가총액 2019-01-01-2020-12-31
```

### 데이터기반으로 기업 조회 및 딥서치 예약어를 이용하여 기업을 조회한 경우 데이터조회 방법

기업을 데이터기반으로 데이터를 조회하는 방법은 아래와 같습니다.

{% hint style="info" %}
(기업입력부분) and (데이터1 데이터2 데이터3 ... 데이터N)

(데이터1 데이터2 데이터3 ... 데이터N) in (기업 입력 부분)
{% endhint %}

```
예시 1) 건강기능식품 산업에 속한 기업들의 매출 영업이익 당기순이익 조회
("건강기능식품" 산업 기업) and (매출 영업이익 당기순이익)
(매출 영업이익 당기순이익) in ("건강기능식품" 산업 기업)


예시 2) 2020년 매출액이 2019대비 2배 이상 상승하면서 PER가 10미만인 기업의 영업이익 당기순이익 조회
(2020 매출액 > 2019 매출액 * 2 and PER < 10) and (영업이익 당기순이익)
(영업이익 당기순이익) in (2020 매출액 > 2019 매출액 * 2 and PER < 10)
```

참고)&#x20;

{% hint style="info" %}
재무데이터 기반 기업검색&#x20;

* 매출 < 100000000000 ( 매출 1조 미만 기업 조회 )&#x20;
* 2020 매출 > 2019 매출 \* 2  ( 2019년 매출 대비 2020년 매출이 2배 이상 상승한 기업 조회 )

시장데이터 기반 기업검색

* 시가총액 < 100000000000 ( 시가총액 1조 미만 기업 조회 )
* 종가 < 50000 ( 최근 주식 종가가 5만원 미만인 기업 조회 )
* PER < 10 and PBR < 1 ( PER이 10 미만이면서, PBR이 1 미만인 기업 조회;&#x20;

개요데이터 기반 기업검색

* 대표이사 나이 > 70
* 주거래은행 == "신한은행"
  {% endhint %}

{% hint style="info" %}
딥서치 예약어를 이용한 기업 검색

* "전기차" 관련 기업
* "갑질" 뉴스 기업
* "국민연금" 주주 기업
* "건강기능식품" 산업 기업
* "웹툰" 사업 기업
  {% endhint %}

## 동시에 여러개의 조건으로 기업 발굴  ( and , or )

동시에 여러개의 조건을 입력하여 기업을 발굴하는 것이 가능합니다. 동시에 여러개의 조건으로 기업을 발굴하기 위해서는 각각의 조건을 and / or 로 연결하면 됩니다.&#x20;

예를 들어, 전기차와 관련되어 있으면서, 자율주행과 관련되어 있으면서, 매출액이 천억 이상의 설립 5년 이상의 기업을 검색해 보겠습니다.&#x20;

```
"전기차" 관련 기업 and "자율주행" 관련 기업 and 매출액 > 10000000000 and 설립일 < 2016-01-01
```

# 조회된 데이터를 연산

## 함수의 활용

DeepSearch 의 검색 결과를 다양하게 분석할 수 있도록 아래와 같은 함수를 지원합니다.

{% hint style="info" %}
4칙연산(+,-,\*,/), Max(), Min(), Abs(), Select(), Mean(), Top(), Bottom(), Sum(), Rank(), Sort()
{% endhint %}

### 4칙연산

DeepSearch 의 입력 쿼리는 4칙 연산 및 () 를 지원합니다. 함수와 4칙 연산, ()를 통하여 보다 복잡한 형태의 쿼리를 수행할 수 있습니다.

```
(1+1)*17/32
```

사칙연산을 이용하여 영업이익을 매출로 나누어 영업이익률을 계산할 수도 있고, 직전연도 매출 대비 2배이상 상승한 기업 리스트 등을 조회할 수 있습니다.

```
영업이익 / 매출 > 0.2 : 영업이익률이 20%를 초과하는 기업리스트를 조회합니다. 
2020 매출 > 2019 매출 * 2 : 2020년 매출이 2019년 매출대비 2배이상 상승한 기업리스트를 조회합니다.
```

### Max(), Min()

입력 쿼리 결과값의 최대값 혹은 최소값을 계산합니다.

```
Max(삼성전자 매출액 2010-2018) : 삼성전자의 2010-2018 매출액 중 최대값을 리턴합니다.
Min(LG전자 영업이익 2010-2018) : LG전자의 2010-2018 영업이익 중 최소값을 리턴합니다. 
```

4칙 연산을 함께 활용하여, 최근 삼성전자 매출액의 최대값과 최소값이 어느정도 차이가 나는지 계산해 볼 수 있습니다.

```
Max(삼성전자 매출액 2010-2018)/ Min(삼성전자 매출액 2010-2018
```

### Abs()

입력 쿼리의 결과값을 절대값으로 변환합니다.

예를 들어, 영업손실이 발생하는 기업들의 영업손실값을 절대값으로 전환하여 가져올 수 있습니다.

```
Abs(영업이익 < 0)
```

### Select()

입력 쿼리 결과값이 여러개 일때, 그 중 어떤 결과를 사용할지 지정합니다. 보통 다른 함수와 중첩해서 많이 사용됩니다.

{% hint style="info" %}
Select({입력쿼리}, {선택 순번})

Select({입력쿼리}, \[{선택순번1}, {선택순번2}, ... ,{선택순번N}])
{% endhint %}

{% hint style="info" %}
Select({입력쿼리}, {컬럼명})

Select({입력쿼리}, \[{컬럼명1}, {컬럼명2}, ... , {컬럼명N}]
{% endhint %}

예를 들어, 시가총액이 1000억원 이상인 반도체 사업 기업의 매출액 정보만을 가져올 수 있습니다. 매출액 정보만을 가져오기 위하여, 순번 값에 2를 넣었습니다. ( 0: 사업 기업, 1:시가총액, 2:매출액이 되며, 입력쿼리의 쿼리 순서를 따릅니다. )

```
Select("*반도체*" 사업 기업 and 시가총액 > 100000000000 and 매출액, 2)
```

만약, 시가총액과 매출액을 조회하려면 순번값에 \[1,2]를 넣어서 조회합니다.

```
Select("*반도체*" 사업 기업 and 시가총액 > 100000000000 and 매출액, [1,2])
```

순번이아니라 직접 컬럼명을 입력할 수도 있습니다.&#x20;

```
Select("*반도체*" 사업 기업 and 시가총액 > 100000000000 and 매출액, ["시가총액", "매출액"])
```

![](https://2002947409-files.gitbook.io/~/files/v0/b/gitbook-legacy-files/o/assets%2F-LPJrnQiLiz9bWVBvx6Q%2F-McYJrhfvazdWIMCxMRo%2F-McYKhqHuoKybOZrDszt%2Fimage.png?alt=media\&token=290a9a94-eb5f-4aa9-bafe-dac248d585d0)

###

### Mean()

입력 쿼리의 결과를 평균합니다.&#x20;

삼성전자의 2018년 주가 평균값은 아래와 같습니다.

```
Mean(삼성전자 2018 주가)
```

Select() 함수와 중첩하여 보다 복잡한 계산을 할 수 있습니다. 예를 들어, 반도체 관련 기업의 시가총액 평균은 다음과 같이 계산할 수 있습니다.

```
Mean(Select(반도체 관련 기업 and 시가총액, 1))
```

### Sum()

입력 쿼리 결과값의 합계를 계산합니다.

예를 들어, 비트코인 관련 기업의 매출액의 합계를 아래와 같이 계산할 수 있습니다.

```
Sum(Select(비트코인 관련 기업 and 2017 매출액, 1))
```

### Top(), Bottom()

입력 쿼리의 결과값들을 정렬하여 상위 n개, 혹은 하위 n개만 보여줍니다.

{% hint style="info" %}
Top({입력쿼리}, 개수)
{% endhint %}

{% hint style="info" %}
Bottom({입력쿼리}, 개수)
{% endhint %}

예를 들어, 시가 배당률이 가장 높은 10개의 기업을 아래와 같이 계산할 수 있습니다.

```
Top(dps/주가, 10)
```

입력 쿼리가 여러 조건으로 중첩되어 있는 경우, 그 중 어떤 결과값을 선택하여 상위 n개만 가져오기 위해서는 선택 함수를 사용하거나, 두번째 파라미터로 몇번째 결과값을 사용할지 추가하면 됩니다.

{% hint style="info" %}
Top({입력쿼리}, 개수, 몇번째 쿼리 결과를 기준으로 할 것인지 순)
{% endhint %}

예를 들어, 반도체 관련 기업 중 시가총액이 1000억원 이상인 기업에 대하여, 매출액 순위 top 10 기업을 추출하고자 한다면 다음과 같이 쿼리할 수 있습니다.

```
Top(반도체 관련 기업 and 시가총액 > 100000000000 and 매출액, 10, 2)
```

### Rank()

입력 쿼리의 결과값을 순위를 매겨서 리턴합니다.&#x20;

예를 들어, 토지 순위를 다음과 같이 입력하여 확인해 볼 수 있습니다. &#x20;

```
Rank(토지)
```

### Sort()

입력 쿼리의 결과값을 정렬하여 리턴합니다.&#x20;

```
Sort(Rank(매출액))
```

정렬 방법을 내 차순으로 바꾸기 위해서는 아래와 같이 파라미터를 추가하면 됩니다.

```
Sort(매출액 > 1000000000, ascending=False)
```

# FAQ 및 에러모음

## 주소 기업, 사업 기업, 산업 기업, 관련 기업 등의 명령어가 잘 안됩니다.

딥서치 DB에는 약 비외감기업을 포함하여 약 150만개의 기업이 존재합니다. 따라서, 아래와 같은 명령어를 작성시  주의하셔야합니다. 이를 방지하기 위하여 주소 기업, 사업 기업, 산업 기업 등 키워드를 통해서 검색하는 명령어의 경우 **반드시 ""를 사용**하여 해당 키워드가 기업이 아닌 문자임을 알려주어야합니다.

```
예사) 서울이라는 기업과 울산이라는 기업이 존재하여 "주소 기업" 쿼리가 제대로 작동하지 않은 경우

서울 주소 기업(X) -> "서울" 주소 기업
울산 주소 기업(X) -> "울산" 주소 기업
```

서울과 울산이라고하는 기업이 존재하므로, 서울 주소 기업 이라고 입력하게 되면 딥서치 엔진은 서울 이라는 키워드를 기업으로 인식하고 주소와 기업을 데이터로 인식합니다.&#x20;

# 딥서치 쿼리 설명 및 응용

## 쿼리문에 대한 이해

쿼리는 기본적으로 3가지 항목으로 구성됩니다.

1. 기업( ex) 삼성전자 )
2. 속성( ex) 주가 )
3. 기간 혹은 날짜 ( ex) 2018-1-15, 2010-2018, 2017 )

이 중 기업의 경우, 쿼리에서 제외할 수 있으며, 기업을 쿼리에서 제외하면 전체 기업의 데이터를 조회하게 됩니다. 예를 들어, `삼성전자 매출액`으로 질의하면, 삼성전자 매출액 결과를 답변으로 제공하지만, `매출액` 으로 입력하면, 딥서치가 보유한 기업들의 매출액 데이터를 조회합니다.

```
예시 1) 기업 속성
삼성전자 매출

예시 2) 기업 속성 기간(yyyy-yyyy)
삼성전자 매출 2010-2020

예시 3) 기업 속성 기간(yyyy-mm-dd-yyyy-mm-dd)
삼성전자 주가 2020-01-01-2020-12-31
```

## 기업 입력방법

기업을 입력하는 방법은 3가지가 존재합니다. 직접 기업을 입력하는 방법, 데이터를 기반으로 조회하는 방법, 딥서치가 제공하는 기능을 이용하여 조회하는 방법입니다. 아래 링크에서 보다 자세한 방법을 조회하실 수 있습니다.

{% content-ref url="companysearch" %}
[companysearch](https://help.deepsearch.com/dp/api/inquiry/companysearch)
{% endcontent-ref %}

| **구분**            | **형식**                                                                                                                               | **예시**                                                                                                                                                                                                                                         |
| ----------------- | ------------------------------------------------------------------------------------------------------------------------------------ | ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| 직접 입력             | <ul><li>기업1 기업2 ... 기업N</li><li>Symbol1 Symbol2 ... SymbolN</li><li>사업자번호1 사업자번호2 ... 사업자번호N</li><li>법인번호1 법인번호2 ... 법인번호N</li></ul> | <ul><li><p>이름으로 입력</p><ul><li>LG전자 삼성전자 넷마블</li></ul></li><li><p>Symbol로 조회</p><ul><li>KRX:005930 KRX:000660</li></ul></li><li><p>사업자번호로 입력</p><ul><li>1248100998 </li></ul></li><li><p>법인등록번호 입력</p><ul><li>1301110006246</li></ul></li></ul> |
| 데이터 기반으로 조회       | 재무, 개요, 시장 데이터 기반 스크리닝                                                                                                               | <ul><li>매출 < 100000000</li><li>종가 > 50000</li></ul>                                                                                                                                                                                            |
| 딥서치가 제공하는 기능으로 조회 | <ol><li>문서 기반 기업 검색</li><li>주주 기반 기업 검색</li><li>산업 기반 기업 검색</li><li>사업 기반 기업 검색</li></ol>                                            | <ul><li>"전기차" 관련 기업</li><li>"갑질" 뉴스 기업</li><li>"국민연금" 주주 기업</li><li>"건강기능식품" 산업 기업</li><li>"웹툰" 사업 기업</li></ul>                                                                                                                                |

## 데이터 조회

딥서치가 보유한 데이터의 종류이며, 각각의 데이터는 업데이트 주기가 다릅니다. &#x20;

| 데이터 종류 | 업데이트 주기           |
| ------ | ----------------- |
| 시장데이터  | 매일                |
| 재무데이터  | 1년 / 분기 (상장사의 경우) |
| 개요데이터  | 실시간               |
| 문서데이터  | 실시간               |

시장데이터의 업데이트주기는 1일단위이고, 재무계정은 업데이트주기가 1년이므로 재무데이터와 시장데이터를 동시에 조회하게되면 날짜단위가 일치하지 않아서 데이터형식이 달라지게됩니다. 따라서, 재무계정조회시에는 재무계정만 시장데이터조회시에는 시장데이터만 조회하는 것을 권장드립니다.

### 데이터만 입력하는 경우

기업을 입하지않고, 데이터만 입력하는 경우 딥서치가 보유하고 있는 데이터 전체를 조회할 수 있습니다.

{% hint style="info" %}
데이터1 데이터2 ... 데이터N
{% endhint %}

```
예시 1) 전체회사의 매출 영업이익 당기순이익을 조회
매출 영업이익 당기순이익

예시 2) 전체회사의 시가총액을 조회
시가총액
```

### 기업을 직접한 경우 데이터 조회 방법

기업을 직접입력한 경우, 데이터를 조회하는 방법은 아래와 같습니다.기업과 데이터간의 구분은 띄어쓰기로 구분됩니다.

{% hint style="info" %}
기업1 기업2 기업3 ... 기업N 데이터1 데이터2 데이터3 ... 데이터N&#x20;
{% endhint %}

```
예시 1) 복수개 회사의 여러 재무계정 조회
삼성전자 LG전자 SK하이닉스 매출 영업이익 당기순이익 자산 부채 자본

예시 2) 일정기간동안의 복수개 회사의 여러 재무계정을 조회
삼성전자 LG전자 SK하이닉스 매출 영업이익 당기순이익 자산 부채 자본 2015-2020

예시 3) 복수개 회사의 2년동안의 주가 및 시가총액을 조회
삼성전자 LG전자 SK하이닉스 종가 시가총액 2019-01-01-2020-12-31
```

### 데이터기반으로 기업 조회 및 딥서치 예약어를 이용하여 기업을 조회한 경우 데이터조회 방법

기업을 데이터기반으로 데이터를 조회하는 방법은 아래와 같습니다.

{% hint style="info" %}
(기업입력부분) and (데이터1 데이터2 데이터3 ... 데이터N)

(데이터1 데이터2 데이터3 ... 데이터N) in (기업 입력 부분)
{% endhint %}

```
예시 1) 건강기능식품 산업에 속한 기업들의 매출 영업이익 당기순이익 조회
("건강기능식품" 산업 기업) and (매출 영업이익 당기순이익)
(매출 영업이익 당기순이익) in ("건강기능식품" 산업 기업)


예시 2) 2020년 매출액이 2019대비 2배 이상 상승하면서 PER가 10미만인 기업의 영업이익 당기순이익 조회
(2020 매출액 > 2019 매출액 * 2 and PER < 10) and (영업이익 당기순이익)
(영업이익 당기순이익) in (2020 매출액 > 2019 매출액 * 2 and PER < 10)
```

참고)&#x20;

{% hint style="info" %}
재무데이터 기반 기업검색&#x20;

* 매출 < 100000000000 ( 매출 1조 미만 기업 조회 )&#x20;
* 2020 매출 > 2019 매출 \* 2  ( 2019년 매출 대비 2020년 매출이 2배 이상 상승한 기업 조회 )

시장데이터 기반 기업검색

* 시가총액 < 100000000000 ( 시가총액 1조 미만 기업 조회 )
* 종가 < 50000 ( 최근 주식 종가가 5만원 미만인 기업 조회 )
* PER < 10 and PBR < 1 ( PER이 10 미만이면서, PBR이 1 미만인 기업 조회;&#x20;

개요데이터 기반 기업검색

* 대표이사 나이 > 70
* 주거래은행 == "신한은행"
  {% endhint %}

{% hint style="info" %}
딥서치 예약어를 이용한 기업 검색

* "전기차" 관련 기업
* "갑질" 뉴스 기업
* "국민연금" 주주 기업
* "건강기능식품" 산업 기업
* "웹툰" 사업 기업
  {% endhint %}

## 동시에 여러개의 조건으로 기업 발굴  ( and , or )

동시에 여러개의 조건을 입력하여 기업을 발굴하는 것이 가능합니다. 동시에 여러개의 조건으로 기업을 발굴하기 위해서는 각각의 조건을 and / or 로 연결하면 됩니다.&#x20;

예를 들어, 전기차와 관련되어 있으면서, 자율주행과 관련되어 있으면서, 매출액이 천억 이상의 설립 5년 이상의 기업을 검색해 보겠습니다.&#x20;

```
"전기차" 관련 기업 and "자율주행" 관련 기업 and 매출액 > 10000000000 and 설립일 < 2016-01-01
```

# 데이터 기반 기업 검색

## 재무데이터를 이용한 기업 검색

딥서치가 보유한 재무데이터를 활용하여 원하는 조건을 만족하는 기업을 발굴할 수 있습니다. 매출, 자산, 부채 등 계정뿐만아니라 딥서치가 보유하고있는 모든 재무데이터를 활용할 수 있습니다.

### 조회가능한 재무데이터 리스트

{% content-ref url="../../data/financial" %}
[financial](https://help.deepsearch.com/dp/api/data/financial)
{% endcontent-ref %}

### 사용예시

```
예시 1) 매출액 10조 이상인 기업리스트 조회
매출 > 10000000000000

예시 2) 매출액 10조 이상이면서 자산이 10조 이상인 기업리스트 조회
매출 > 10000000000000 and 자산 > 100000000000000

예시 3) 2019년 매출 대비 2020년 매출이 2배이상 상승한 기업리스트 조회
2020 매출 > 2019 매출 * 2

예시 4) 2020년 영업이익률이 20% 이상인 기업리스트 조회
2020 영업이익 / 2020 영업이익 > 0.2

예시 5) 세부계정을 이용한 기업리스트 조회
제조업 가지급금 > 100000000
2020 제조업 법인세비용 > 2019 제조업 법인세비용

예시 6) 여러 재무조건을 이용한 기업리스트 조회
2020 매출 > 2019 매출 * 2 and 2020 영업이익 / 2020 매출 > 0.2
```

## 시장데이터를 이용한 기업 검색

### 조회가능한 시장데이터 리스트

{% content-ref url="../../data/market" %}
[market](https://help.deepsearch.com/dp/api/data/market)
{% endcontent-ref %}

### 사용예시

```
예시 1) PER가 10미만인 기업리스트 조회
PER < 10 

예시 2) PBR이 0 이상이면서 1미만인 기업리스트 조회
0 < PBR < 1

예시 3) 2020년 주가수익률이 50% 이상인 기업리스트 조회
2020-12-31 종가 / 2020-01-01 종가 > 1.5
주가수익률 2020-01-01-2020-12-31 > 0.5 

예시 4) 시가총액 500억 미만인 기업리스트 조회
시가총액 < 50000000000
```

## 개요데이터를 이용한 기업 검색

### 조회가능한 개요데이터 리스트

{% content-ref url="../../data/overview" %}
[overview](https://help.deepsearch.com/dp/api/data/overview)
{% endcontent-ref %}

### 사용예시

```
예시 1) 대표이사 나이가 70세 이상인 기업리스트 조회
대표이사 나이 > 70

예시 2) 주거래은행이 신한은행인 기업리스트 조회
주거래은행 == "신한은행"

예시 3) 2020년 종업원수가 2019년대비 2배 이상 상승한 기업리스트 조회
2020 종업원수 > 2019 종업원수 * 2

예시 4) 회사 설립일이 2018년 이후인 회사리스트 조회
설립일 > 2018-01-01

예시 5) LG전자 종업원수보다 종업원수가 많은 기업리스트 조회
종업원수 > LG전자 종업원수
```

# 문서 기반 기업 검색(뉴스, 증권사리포트, IR, 특허)

## 주제 기반 검색 ( 관련 기업 )

각 회사가 발표하는 공시자료 (사업보고서), IR 자료, 증권사리포트, 뉴스 등을 바탕으로 기업을 검색합니다.

### 사용방법

전기차와 관련된 기업을 검색하기 위해서는 `"전기차" 관련 기업` 이라고 입력하면 됩니다. 입력 가능한 키워드는 어떤 키워드라도 무관합니다.

### 사용예시

```
"전기차" 관련 기업 // 기간설정이 없는 경우, 1년으로 셋팅
"라면" 관련 기업
"웹툰" 관련 기업

"전기차" 관련 기업 2022-07-01-2022-07-27 // 2022년 7월 1일에서 2022년 7월 27일 까지의 문서들을 기준으로 관련 기업 명령어를 수행합니다.
"라면" 관련 기업 2021-2022
"웹툰" 관련 기업 2022-07-01-2022-07-27
```

![](https://2002947409-files.gitbook.io/~/files/v0/b/gitbook-legacy-files/o/assets%2F-LPJrnQiLiz9bWVBvx6Q%2F-McYaWoEg4Bx7Psgw12N%2F-McYdGI6mvMl-K-4DfyZ%2Fimage.png?alt=media\&token=303ae9f3-2d90-4e54-9ba4-1d7e2601ca4c)

### 작동 원리

DeepSearch 는 각사가 발표하는 전체 공시, 증권사리포트, IR, 뉴스 자료 등을 실시간으로 검색하여, 사용자가 입력한 키워드가 해당 기업과 관련이 있는지를 판단하며, 판단 과정은 다음과 같습니다.

1. 사업보고서\
   회사의 사업보고서에서 사용자가 입력한 주제를 언급하는지를 확인합니다. 회사의 사업보고서에서 해당 주제를 언급하는 기업은, 해당 주제와 관련이 높다고 판단하며,  사업보고서에서 언급이 되지 않는 주제는 관련이 없다고 판단합니다.&#x20;
2. 증권사리포트, IR, 뉴스\
   증권사리포트 및 IR 자료, 뉴스 등 다른 문서에서도 해당 주제가 언급이 되는 경우, 관련도가 더 높다고 판단합니다.&#x20;

{% hint style="info" %}
주제 기반 검색은 회사의 공시자료에서 사용자가 입력한 키워드가 언급되느냐를 바탕으로 관련 여부를 결정합니다. 따라서, 공시가 발표되지 않는 비외감 기업의 경우에는 주제 기반 검색이 적용되지 않으며, 이 경우 사업 개요 기반 검색 혹은 산업 기반 검색을 활용하여 기업을 검색하면 됩니다.&#x20;
{% endhint %}

## 특정 문서 기반 검색

`관련 기업`은 공시/뉴스/증권사리포트/IR/알파 등 다양한 기업의 문서를 활용하여 관련도를 측정하고, 관련 기업을 발굴 하는 반면, 특정 문서 기반 기업 발굴은, 특정 카테고리의 문서에 해당 키워드가 얼만큼 등장했는지를 바탕으로 기업을 발굴합니다.

예를 들어, `갑질 뉴스 기업` 의 경우, 갑질이라는 키워드가 포함된 뉴스를 검색하고, 이 뉴스들에서 가장 많이 언급된 기업을 발굴합니다.

### 뉴스 문서 기반 기업 검색 ( 뉴스 기업 )

#### 사용방법

`"키워드" 뉴스 기업` 이라고 입력하면 됩니다.&#x20;

#### 사용예시

```
"갑질" 뉴스 기업
"ESG" 뉴스 기업

// 기간설정 
"갑질" 뉴스 기업 2021 // 2021년 전체 뉴스기반으로 검색
"ESG" 뉴스 기업 2020-01-01-2021-01-01 // 2020년 1월 1일 ~ 2021년 1월 1일까지의 뉴스기반 검색
```

### IR 문서 기반 기업 검색 ( IR 기업 )

#### 사용방법

`"키워드" 뉴스 기업` 이라고 입력하면 됩니다.&#x20;

#### 사용예시

```
"건강기능식품" IR 기업

// 기간설정

"건강기능식품" IR 기업 2021
```

### 증권사리포트 문서 기반 기업 검색 ( 증권사리포트 기업 )

#### 사용방법

`"키워드" 뉴스 기업` 이라고 입력하면 됩니다.&#x20;

#### 사용예시

```
"ESS" 증권사리포트 기업
"전기차충전" 증권사리포트 기업

// 기간설정

"전기차충전" 증권사리포트 기업 2021
"ESS" 증권사리포트 기업 2021

```

### 공시 문서 기반 기업 검색 ( 공시 기업 )

#### 사용방법

`"키워드" 공시 기업` 이라고 입력하면 됩니다.&#x20;

#### 사용예시

```
"그린뉴딜" 공시 기업

// 기간설정

"그린뉴딜" 공시 기업 2021-2022
```

# 주주 기반 기업 검색

### 사용방법

국민연금이 주주로 있는 기업을 검색하기 위해서는 `"국민연금" 주주 기업` 이라고 입력하면 됩니다. 입력 가능한 키워드는 어떤 키워드라도 무관합니다.&#x20;

참고) 개인인 주주를 기반으로 검색시, 동명이인이 있는 경우 여러 주주가 조회될 수있습니다.

### 사용예시

```
"국민연금" 주주 기업 
"인베스트먼트" 주주 기업 
"이건희" 주주 기업
```

# 산업 기반 기업 검색

## 산업 기반 검색

각 회사가 속해있는 산업을 기반으로 기업을 검색합니다. 산업은 통계청의 한국표준산업분류(10차) 를 따라서 처리되며, 산업명 혹은 산업 코드로 검색 할 수 있습니다.

참조 : 한국표준산업분류 해설서 ( <http://kssc.kostat.go.kr/ksscNew_web/kssc/common/ClassificationContent.do?gubun=1&strCategoryNameCode=001&categoryMenu=007> )

### 사용방법

항공 산업과 관련된 기업을  검색하기 위해서는 `"항공" 산업 기업` 이라고 입력하면 됩니다. 입력 가능한 키워드는 어떤 키워드라도 무관합니다. 항공 앞뒤의 \* 는 어떤 글자라도 무관하다라는 의미로, "\*자동차\*부품\*" 과 같이 다수의 단어를 산업명에서 검색하는 경우에 유용하게 사용될 수 있습니다.

```
"항공" 산업 기업
"자동차*부품" 산업 기업
```

산업코드를 기반으로도 검색할 수 있습니다. 산업코드전체를 입력하거나, 산업 코드 중 일부를 입력하여 검색할 수 있습니다. 예를 들어, 응용 소프트웨어 개발 및 공급업인 58222에 대해서는 아래와 같이 검색할 수 있습니다.

```
"*58222*" 산업 기업
"10J58222*" 산업 기업
```

동시에 다수의 산업을 검색할 수 있습니다. 예를 들어, 데이터베이스 제공업(63991) 과 뉴스 제공업(63990) 에 해당하는 기업을 동시에 검색하고자 한다면 아래와 같이 검색할 수 있습니다.

```
"*63991*""*63990*" 산업 기업
"*데이터베이스*""*뉴스*" 산업 기업
```

# 사업 기반 기업 검색

## 사업 영역 기반 검색

각 회사의 사업 영역 정보로 기업을 검색합니다. 사업 영역은 회사에서 사업자 등록 시에 등기소 등에 제출한 사업 개요 정보를 기반으로 하며, 자세한 사업 아이템을 포함합니다.&#x20;

예를 들어, 삼성전자의 사업 영역은 `휴대폰,컴퓨터,네트워크시스템,핵심칩,반도체부품,디스플레이패널,가전제품,의료기기,프린터 제조`  입니다.&#x20;

### 사용방법

사업 영역으로 기업을 검색하기 위해서는 `"키워드" 사업 기업`이라고 입력하면 됩니다. 입력 가능한 키워드는 어떤 키워드라도 무관합니다. 예를 들어, 사업 영역이 프린터라면, `"프린터" 사업 기업` 이라고 입력합니다.

```
"프린터" 사업 기업
"오토바이" 사업 기업
"웹툰" 사업 기업
```

동시에 다수의 사업 영역을 검색할 수 있습니다. 예를 들어, 사업 영역이 오토바이 혹은 자동차라면, 아래와 같이 입력합니다.&#x20;

```
"오토바이""자동차" 사업 기업
```

# 주소 기반 기업 검색

## 주소 기반 검색

각 회사의 주소 정보로 기업을 검색합니다. 주소 정보는 지번 주소를 바탕으로 하며, 시, 구, 동, 번지 등 다양한 기준으로 검색이 가능합니다.

### 사용방법

주소로 기업을 검색하기 위해서는 `"키워드" 주소 기업`이라고 입력하면 됩니다. 입력 가능한 키워드는 어떤 키워드라도 무관합니다. 예를 들어, 마포구의 기업을 검색하기를 원한다면 아래와 같이 입력할 수 있습니다.

```
"마포구" 주소 기업 // 주소지에 마포구가 들어가는 기업 조회
"서울 마포구" 주소 기업 // 주소지에 서울과 마포구 2개 키워드가 전부 들어간 기업 조회
```

서울 역삼동의 기업을 검색하기를 원한다면 아래와 같이 입력할 수 있습니다.

```
"서울 역삼동" 주소 기업
```

동시에 다수의 주소를 검색할 수 있습니다. 예를 들어, 역삼동 및 삼성동의 기업을 검색하고자 한다면 아래와 같이 검색합니다.

```
"서울 역삼동" "서울 삼성동" 주소 기업
```

### 설립일 정보와 함께 활용

주소 기반 검색은 설립일 정보와 함께 활용하여, 특정 지역의 신생 기업을 찾고자 하는 용도로 활용될 수 있습니다. 예를 들어, 여의도에 2019년 이후에 설립된 기업은 아래와 같이 검색할 수 있습니다.

```
"서울 여의도" 주소 기업 and 설립일 > 2019-01-01
```

# 기업명 기반 기업 검색

## 이름 기반 검색

각 회사의 이름으로 기업을 검색합니다. 회사 이름에 특정 분야를 언급하는 경우가 많은 경우, 혹은 회사 이름을 정확히 알고 있는 경우 등에 사용합니다.&#x20;

### 사용방법

이름으로 기업을 검색하기 위해서는 `"키워드" 이름 기업`이라고 입력하면 됩니다. 입력 가능한 키워드는 어떤 키워드라도 무관합니다.&#x20;

예를 들어, 기업명에 자산운용이 포함된 기업을 찾고자 한다면, 다음과 같이 입력합니다.&#x20;

```
"자산운용" 이름 기업
```

또는 동시에 다수의 이름을 검색할 수 있습니다.  예를 들어, 딥서치와 나이스평가정보를 검색하고자 한다면 아래와 같이 검색합니다.&#x20;

```
"딥서치" "나이스평가정보" 이름 기업
```

회사명에 삼성이 포함된 기업과 LG가 포함된 기업을 한번에 검색할 수 도 있습니다.&#x20;

```
"삼성" "LG" 이름 기업
```

# 외부감사여부 기반 기업 검색

## 외부감사여부 기반 검색

회사가 외부감사를 받는지 안받는지 여부에 따라 기업리스트를 조회합니다.

### 사용방법

외부감사를 받고있는 기업을 검색하기 위해서는 `외감 기업`이라고 입력하면 됩니다. 외부감사를 받고있지 않은 기업을 검색하려면 `비외감 기업`이라고 입력합니다.

```
외감 기업
비외감 기업
```

### 다른데이터와 응용

```
예시 1) 외부감사를 받고있는 기업들의 매출
매출 in 외감 기업

예시 2) 외부감사를 받고있지 않는 기업들의 자산 부채 자본 매출 재무계정 조회
자산 부채 자본 매출 in 비외감 기업

```

# 폐업여부 기반 기업 검색

## 폐업여부 기반 검색

회사 폐업여부에 따라 기업리스트를 조회합니다.

### 사용방법

폐업한 기업을 조회하기 위해서 `폐업 기업`이라고 입력하면 됩니다.&#x20;

```
폐업 기업
```

### 다른데이터와 응용

```
예시 1) 폐업한 기업들의 매출을 조회합니다.
매출 in 폐업 기업 

예시 2) 폐업하지 않은 기업들의 매출을 조회합니다. 
매출 not in 폐업 기업
```

# 상장여부 기반 기업 검색

## 상장여부 기반 검색

회사가 거래소(KOSPI, KOSDAQ, KONEX)에 상장한 기업리스트를 조회합니다.

### 사용방법

상장한 기업을 조회하기 위해서 `상장 기업`이라고 입력하면 됩니다.&#x20;

```
상장 기업
```

### 다른데이터와 응용

```
예시 1) 상장한 기업들의 매출을 조회합니다.
매출 in 상장 기업 

예시 2) 상장한 기업들의 2020년 매출 영업이익 당기순이익을 조회합니다.

2020 매출 2020 영업이익 2020 당기순이익 in 상장 기업
```



