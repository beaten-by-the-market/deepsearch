# 결과 레이아웃

### 개요

쿼리의 결과는, 아래와 같은 형태의 레이아웃으로 출력되며, 포맷은 json 입니다.

| 이름      | 내용       | 타입          | 비고                             |
| ------- | -------- | ----------- | ------------------------------ |
| success | 결과 성공 여부 | boolean     | true:성공, false:실패              |
| data    | 결과값      | json object | profile, exceptions, pods 로 구성 |

#### profile 구성

| 이름          | 내용             | 타입     | 비고 |
| ----------- | -------------- | ------ | -- |
| compile     | 컴파일 소요시간(ms)   | number |    |
| interpreter | 해석 소요시간(ms)    | number |    |
| pods        | 결과 처리 소요시간(ms) | number |    |
| total       | 전체 소요시간 합계(ms) | number |    |

#### exceptions 구성

* 예외 항목 리스트를 array로 리턴

#### pods

* 사용자가 입력한 쿼리에 대한 해석 결과 및 출력 결과를 array 로 리턴
* pods 구성은 아래와 같다.

| 항목       | 내용            | 타입          | 비고                                 |
| -------- | ------------- | ----------- | ---------------------------------- |
| class    | pods 의 클래스 타입 | string      | Input, Result:DocumentSearchResult |
| position | position      | number      |                                    |
| title    | 제목            | string      |                                    |
| content  | 내용            | json object | pods 의 클래스에 따른 결과 항목               |
| subpods  | 부가 정보         | array       | 부가정보가 담긴 pod 배열을 결과로 리턴한다.         |

## Pod Class 별 결과 레이아웃

###

# Input

### 기본 정보

* class : "Input"
* position: -1
* title : "Input Interpretation"

### content

| 항목                       | 내용                     | type        | 비고                                |
| ------------------------ | ---------------------- | ----------- | --------------------------------- |
| input                    | 사용자가 입력한 쿼리문           | string      |                                   |
| interpretation           | 사용자가 입력한 쿼리를 어떻게 해석했는가 | json object | plaintext(string), tagged(string) |
| detailed\_interpretation | 보다 상세한 해석              | json object | plaintext(string), tagged(string) |
| subpods                  | 부가 정보                  | array       |                                   |

###

# Result:DataFrame

### 기본정보

* class: "Result:DataFrame"
* position: -1
* title: "Result"

### content

| 항목      | 내용                  | type        | 비고                           |
| ------- | ------------------- | ----------- | ---------------------------- |
| index   | 인덱스 항목              | array       |                              |
| columns | 결과 값이 어떤 항목으로 구성되는지 | array       | 쿼리에 따라 동적으로 생성               |
| dtypes  | 결과 항목별 데이터 형태       | json object | datetime64, string, int64,.. |
| data    | 결과 데이터              | json object | 쿼리에 따라 동적으로 생성               |

# Result:SingleValue

### 기본정보

* class: "Result:SingleValue"
* position: -1
* title: "Result"

### content

| 항목   | 내용     | type        | 비고             |
| ---- | ------ | ----------- | -------------- |
| data | 결과 데이터 | json object | 쿼리에 따라 동적으로 생성 |

# Result:DocumentSearchResult

### 기본정보

* class : "Result : DocumentSearchResult"
* position : -1
* title : "Result"

### content

| 항목    | 내용       | type        | 비고 |
| ----- | -------- | ----------- | -- |
| found | 문서 발견 여부 | boolean     |    |
| data  | 검색 결과    | json object |    |

#### data

| 항목             | 내용                       | type        | 비고                                    |
| -------------- | ------------------------ | ----------- | ------------------------------------- |
| profile        | 검색 소요 시간                 | json object | 검색 단계별 소요시간(ms)                       |
| cluster\_info  | 문서 검색 결과에 대한 클러스터링 정보    | json object | 문서를 클러스터링 했는지 여부 및 클러스터 개수            |
| total\_matches | 검색 결과 개수                 | number      |                                       |
| max\_score     | 내부에서 사용하는 검색 Score 의 최대값 | number      |                                       |
| scroll\_id     | 내부에서 사용하는 scroll\_id     | string      |                                       |
| current\_page  | 현재 페이지                   | number      |                                       |
| last\_page     | 마지막 페이지                  | number      |                                       |
| docs           | 문서 리스트                   | array       | 다수개의 결과 문서(json object ) 를 array 로 리턴 |

#### docs

| 항목           | 내용              | type        | 비고                                                                                                          |
| ------------ | --------------- | ----------- | ----------------------------------------------------------------------------------------------------------- |
| meta         | 내부에서 사용하는 메타 정보 | json object |                                                                                                             |
| uid          | 문서 ID           | number      | 굉장히 긴 숫자로, 브라우저에 따라 처리가 안되는 경우가 있어, 별도의 string 으로 변환된 문서 ID 를 함께 제공                                         |
| uid\_str     | 문서 ID(string)   | string      |                                                                                                             |
| category     | 문서 타입           | string      | 뉴스, 공시, 리포트, IR, 특허 등으로 하단 명세 참조                                                                            |
| section      | 문서 섹션           | string      | 경제, 사회, 문화 등으로 하단 명세 참조                                                                                     |
| publisher    | 출처              | string      |                                                                                                             |
| author       | 작성자             | string      |                                                                                                             |
| title        | 제목              | string      |                                                                                                             |
| content      | 내용              | string      | 문서 요약 정보                                                                                                    |
| highlight    | 검색하이라이트         | string      | 검색시, 하이라이트 옵션을 켜면 해당 키워드가 포함된 본문을 리턴한다.                                                                     |
| securities   | 관련 종목           | array       | 다수개의 관련 종목(json object) 를 array 로 리턴                                                                        |
| entities     | 관련 엔티티          | array       | 다수개의 관련 엔티티(json object) 를 array 로 리턴                                                                       |
| tags         | 태그 정보           | array       | 문서에 따라 필요한 부가 정보                                                                                            |
| industry     | 산업 정보           | json object | label:산업 코드, name:산업명, score:신뢰점수                                                                           |
| polarity     | 긍부정 정보          | json object | label:긍부정점수(0,1,-1), name:긍부정여부,score:신뢰점수                                                                  |
| esg          | esg 정보          | json object | <p>category: ESG 분류 정보(json object)</p><p></p><p>polarity: ESG에 따른 긍부정 정보(json object)<br></p><p>하단 명세참</p> |
| content\_url | 원문 링크           | string      |                                                                                                             |
| image\_urls  | 이미지 링크          | array       | 다수개의 이미지 링크(string)을 array 로 리턴                                                                             |
| attachments  | 관련 파일 등         | array       | 다수개의 관련 링크(string)을 array 로 리턴                                                                              |
| attributes   | 관련 정보           | json object | 검색 키워드 정보 등                                                                                                 |
| created\_at  | 문서 생성 일시        | string      | 날짜 및 시간 정보                                                                                                  |
| updated\_at  | 문서 갱신 일시        | string      | 날짜 및 시간 정보                                                                                                  |

* Category, Section
  * 뉴스: news
    * 정치: politics
    * 경제: economy
    * 사회: society
    * 문화: culture
    * 세계: world
    * 기술/IT: tech
    * 연예: entertainment
    * 사설: opinion
  * 증권사 보고서: research
    * 시장 전망: market
    * 투자전략: strategy
    * 기업 보고서: company
    * 산업 보고서: industry
    * 경제 보고서: economy
    * 채권 보고서: bond
  * 공시,IR : company
    * IR : ir
    * 공시 : disclosure
  * 특허 : patent
    * 특허 : patent
* ESG Category: 분류된 ESG 인식 결과
  * label: 환경(E), 사회(S), 지배구조(G), 해당없음(U)에 대한 코드값
  * name: ESG 명칭
  * score: label에 대한 신뢰 점수
    * 점수 구간: \[0.0 \~ 1.0]
* ESG Polarity: 분류된 ESG에 따른 극성
  * label: 부정(-1), 중립(0), 긍정(1)에 대한 코드값
  * name: 극성 명칭
  * score: label에 대한 신뢰 점수
    * 점수 구간: \[0.0 \~ 1.0]

# Result:DocumentTrendsResult

### 기본 정보

* class: "Result:DocumentTrendsResult"
* position: -1
* title: "Result"

### content

| 항목    | 내용       | type        | 비고 |
| ----- | -------- | ----------- | -- |
| found | 문서 발견 여부 | boolean     |    |
| data  | 검색 결과    | json object |    |

#### data

| 항목      | 내용           | type        | 비고 |
| ------- | ------------ | ----------- | -- |
| profile | 단계별 처리 소요 시간 | json object |    |
| trends  | 일자별 트렌드 결과   | json object |    |

#### trends

| 항목             | 내용           | type        | 비고 |
| -------------- | ------------ | ----------- | -- |
| query          | 검색 대상 쿼리     | json object |    |
| total\_matches | 대상 문서 전체 개수  | number      |    |
| buckets        | 기간별 트렌드 결과   | json object |    |
| \_anomalies    | 이상 징후가 나타난 날 | array       |    |

#### buckets

| 항목          | 내용                                 | type   | 비고                                                  |
| ----------- | ---------------------------------- | ------ | --------------------------------------------------- |
| key         | 대상 기간                              | string |                                                     |
| value       | 해당 날짜(기간)에 입력한 쿼리가 전체 문서에서 차지하는 비중 | float  | 전체 뉴스 1000개중, 입력한 쿼리에 해당하는 뉴스가 1개이면, value 는 0.1(%) |
| count       | 해당 날짜(기간)에 입력한 쿼리가 문서 개수           | number | 전체 뉴스 1000개중, 입력한 쿼리에 해당하는 뉴스가 1개이면, count 는 1(개)   |
| frequencies | 미사용                                | array  |                                                     |

# Result:TrendingTopicsSearchResult

### 기본 정보

* class : "Result:TrendingTopicsSearchResult"
* position: -1
* title: "Result"

### content

| 항목    | 내용       | type        | 비고 |
| ----- | -------- | ----------- | -- |
| found | 문서 발견 여부 | boolean     |    |
| data  | 검색 결과    | json object |    |

#### data

| 항목        | 내용     | type        | 비고 |
| --------- | ------ | ----------- | -- |
| timestamp | 기준 시간  | string      |    |
| topics    | 트렌딩 토픽 | json object |    |

#### topics

| 항목         | 내용        | type        | 비고                                      |
| ---------- | --------- | ----------- | --------------------------------------- |
| uid        | 토픽 ID     | number      |                                         |
| uid\_str   | 토픽 ID     | string      |                                         |
| category   | 문서 카테고리   | string      | 뉴스, 공시, 리포트, IR, 특허 등으로 하단 명세 참조        |
| section    | 문서 섹션     | string      | 경제, 사회 문화 등으로 하단 명세 참조                  |
| rank       | 토픽 순위     | number      | 토픽 순위                                   |
| score      | 토픽 중요도 점수 | float       | 토픽 내 관련 문서가 많을수록, 최신정보일 수록 높은 score를 가짐 |
| keywords   | 토픽 관련 키워드 | array       | 해당 토픽에서 주로 언급되고 있는 키워드 리스트              |
| statistics | 토픽 관련 통계  | json object | 문서 개수, 관련 기업, 관련 산업, 극성분석               |

* Category, Section
  * 뉴스: news
    * 정치: politics
    * 경제: economy
    * 사회: society
    * 문화: culture
    * 세계: world
    * 기술/IT: tech
    * 연예: entertainment
    * 사설: opinion
  * 증권사 보고서: research
    * 시장 전망: market
    * 투자전략: strategy
    * 기업 보고서: company
    * 산업 보고서: industry
    * 경제 보고서: economy
    * 채권 보고서: bond
  * 공시,IR : company
    * IR : ir
    * 공시 : disclosure
  * 특허 : patent
    * 특허 : patent

# Result:TrendingTopicResult

### 기본 정보

* class : "Result:TrendingTopicResult"
* position: -1
* title: "Result"

### content

| 항목    | 내용       | type        | 비고 |
| ----- | -------- | ----------- | -- |
| found | 문서 발견 여부 | boolean     |    |
| data  | 검색 결과    | json object |    |

#### data

| 항목            | 내용        | type        | 비고 |
| ------------- | --------- | ----------- | -- |
| scroll\_id    | Scroll ID | number      |    |
| current\_page | 현재 페이지    | number      |    |
| last\_page    | 전체 페이지    | number      |    |
| topics        | 트렌딩 토픽    | json object |    |

#### topics

| 항목         | 내용        | type        | 비고                                      |
| ---------- | --------- | ----------- | --------------------------------------- |
| uid        | 토픽 ID     | number      |                                         |
| uid\_str   | 토픽 ID     | string      |                                         |
| timestamp  | 토픽 일시     | string      |                                         |
| category   | 문서 카테고리   | string      |                                         |
| section    | 문서 섹션     | string      |                                         |
| rank       | 토픽 순위     | number      |                                         |
| score      | 토픽 중요도 점수 | float       | 토픽 내 관련 문서가 많을수록, 최신정보일 수록 높은 score를 가짐 |
| keywords   | 토픽 관련 키워드 | array       | 해당 토픽에서 주로 언급되고 있는 키워드 리스트              |
| docs       | 토픽 관련 문서  | json object | 하단 docs 구조 참조                           |
| statistics | 토픽 관련 통계  | json object | 문서 개수, 관련 기업, 관련 산업, 극성                 |

#### docs

| 항목           | 내용              | type        | 비고                                                                  |
| ------------ | --------------- | ----------- | ------------------------------------------------------------------- |
| meta         | 내부에서 사용하는 메타 정보 | json object |                                                                     |
| uid          | 문서 ID           | number      | 굉장히 긴 숫자로, 브라우저에 따라 처리가 안되는 경우가 있어, 별도의 string 으로 변환된 문서 ID 를 함께 제공 |
| uid\_str     | 문서 ID(string)   | string      |                                                                     |
| category     | 문서 타입           | string      | 뉴스, 공시, 리포트, IR, 특허 등으로 하단 명세 참조                                    |
| section      | 문서 섹션           | string      | 경제, 사회, 문화 등으로 하단 명세 참조                                             |
| publisher    | 출처              | string      |                                                                     |
| author       | 작성자             | string      |                                                                     |
| title        | 제목              | string      |                                                                     |
| content      | 내용              | string      | 문서 요약 정보                                                            |
| highlight    | 검색하이라이트         | string      | 검색시, 하이라이트 옵션을 켜면 해당 키워드가 포함된 본문을 리턴한다.                             |
| securities   | 관련 종목           | array       | 다수개의 관련 종목(json object) 를 array 로 리턴                                |
| entities     | 관련 엔티티          | array       | 다수개의 관련 엔티티(json object) 를 array 로 리턴                               |
| tags         | 태그 정보           | array       | 문서에 따라 필요한 부가 정보                                                    |
| industry     | 산업 정보           | json object | label:산업 코드, name:산업명, score:신뢰점수                                   |
| polarity     | 긍부정 정보          | json object | label:긍부정점수(0,1,-1), name:긍부정여부,score:신뢰점수                          |
| content\_url | 원문 링크           | string      |                                                                     |
| image\_urls  | 이미지 링크          | array       | 다수개의 이미지 링크(string)을 array 로 리턴                                     |
| attachments  | 관련 파일 등         | array       | 다수개의 관련 링크(string)을 array 로 리턴                                      |
| attributes   | 관련 정보           | json object | 검색 키워드 정보 등                                                         |
| created\_at  | 문서 생성 일시        | string      | 날짜 및 시간 정보                                                          |
| updated\_at  | 문서 갱신 일시        | string      | 날짜 및 시간 정보                                                          |

# Result:HistoricalTopicsSearchResult(검색)

### 기본 정보

* class : "Result:HistoricalTopicsSearchResult"
* position: -1
* title: "Result"

### content

| 항목    | 내용       | type        | 비고 |
| ----- | -------- | ----------- | -- |
| found | 문서 발견 여부 | boolean     |    |
| data  | 검색 결과    | json object |    |

#### data

| 항목             | 내용         | type        | 비고 |
| -------------- | ---------- | ----------- | -- |
| profile        | 단계별 소요시간   | json object |    |
| total\_matches | 트렌딩 토픽     | json object |    |
| max\_score     | max\_score | number      |    |
| scroll\_id     | 스크롤 ID     | string      |    |
| current\_page  | 현재 페이지     | number      |    |
| last\_page     | 마지막 페이지    | number      |    |
| topics         | 검색된 토픽 결과  | json object |    |

#### topics

| 항목         | 내용           | type        | 비고     |
| ---------- | ------------ | ----------- | ------ |
| meta       | meta 정보      | json object |        |
| uid        | 토픽 ID        | number      |        |
| uid\_str   | 토픽 ID        | string      |        |
| revision   | revision     | number      |        |
| category   | 문서 카테고리      | string      |        |
| section    | 문서 섹션        | string      |        |
| rank       | 토픽 순위        | number      |        |
| score      | 토픽 중요도 점수    | float       |        |
| topic      | 토픽명          | string      |        |
| tags       | 토픽 관련 태그     | array       |        |
| keywords   | 토픽 관련 키워드    | array       |        |
| securities | 토픽 관련 종목     | array       |        |
| entities   | 토픽 관련 entity | array       |        |
| attributes | 관련 정보        | json object | 검색 쿼리명 |

# Result:HistoricalTopicsSearchResult(상세)

### 기본 정보

* class : "Result:HistoricalTopicsSearchResult"
* position: -1
* title: "Result"

### content

| 항목    | 내용       | type        | 비고 |
| ----- | -------- | ----------- | -- |
| found | 문서 발견 여부 | boolean     |    |
| data  | 검색 결과    | json object |    |

####

#### topics

| 항목         | 내용           | type        | 비고     |
| ---------- | ------------ | ----------- | ------ |
| meta       | meta 정보      | json object |        |
| uid        | 토픽 ID        | number      |        |
| uid\_str   | 토픽 ID        | string      |        |
| revision   | revision     | number      |        |
| category   | 문서 카테고리      | string      |        |
| section    | 문서 섹션        | string      |        |
| rank       | 토픽 순위        | number      |        |
| score      | 토픽 중요도 점수    | float       |        |
| topic      | 토픽명          | string      |        |
| tags       | 토픽 관련 태그     | array       |        |
| keywords   | 토픽 관련 키워드    | array       |        |
| securities | 토픽 관련 종목     | array       |        |
| entities   | 토픽 관련 entity | array       |        |
| attributes | 관련 정보        | json object | 검색 쿼리명 |
| docs       | 관련 뉴스        | json object |        |

#### docs

| 항목           | 내용              | type        | 비고                                                                  |
| ------------ | --------------- | ----------- | ------------------------------------------------------------------- |
| meta         | 내부에서 사용하는 메타 정보 | json object |                                                                     |
| uid          | 문서 ID           | number      | 굉장히 긴 숫자로, 브라우저에 따라 처리가 안되는 경우가 있어, 별도의 string 으로 변환된 문서 ID 를 함께 제공 |
| uid\_str     | 문서 ID(string)   | string      |                                                                     |
| category     | 문서 타입           | string      | 뉴스, 공시, 리포트, IR, 특허 등으로 하단 명세 참조                                    |
| section      | 문서 섹션           | string      | 경제, 사회, 문화 등으로 하단 명세 참조                                             |
| publisher    | 출처              | string      |                                                                     |
| author       | 작성자             | string      |                                                                     |
| title        | 제목              | string      |                                                                     |
| content      | 내용              | string      | 문서 요약 정보                                                            |
| highlight    | 검색하이라이트         | string      | 검색시, 하이라이트 옵션을 켜면 해당 키워드가 포함된 본문을 리턴한다.                             |
| securities   | 관련 종목           | array       | 다수개의 관련 종목(json object) 를 array 로 리턴                                |
| entities     | 관련 엔티티          | array       | 다수개의 관련 엔티티(json object) 를 array 로 리턴                               |
| tags         | 태그 정보           | array       | 문서에 따라 필요한 부가 정보                                                    |
| industry     | 산업 정보           | json object | label:산업 코드, name:산업명, score:신뢰점수                                   |
| polarity     | 긍부정 정보          | json object | label:긍부정점수(0,1,-1), name:긍부정여부,score:신뢰점수                          |
| content\_url | 원문 링크           | string      |                                                                     |
| image\_urls  | 이미지 링크          | array       | 다수개의 이미지 링크(string)을 array 로 리턴                                     |
| attachments  | 관련 파일 등         | array       | 다수개의 관련 링크(string)을 array 로 리턴                                      |
| attributes   | 관련 정보           | json object | 검색 키워드 정보 등                                                         |
| created\_at  | 문서 생성 일시        | string      | 날짜 및 시간 정보                                                          |
| updated\_at  | 문서 갱신 일시        | string      | 날짜 및 시간 정보                                                          |


