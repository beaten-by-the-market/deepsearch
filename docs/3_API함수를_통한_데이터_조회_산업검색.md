# GetAggregateIndustryInfo

### Function specification

```
GetAggregateIndustryInfo(mode=0, date_from=None, date_to=None)
```

###

### Parameters

| Parameter           | Type    | Description        |
| ------------------- | ------- | ------------------ |
| mode                | integer | 0 - 연결, 1 - 개별     |
| date\_from/date\_to | date    | 기준 기간 (YYYY-MM-DD) |

###

### Examples

```
> GetAggregateIndustryInfo()
...
industry_id	industry_name	count	revenue	operating_income	net_income	asset	liability	employee
DIC:011001	에너지 및 소재/정유	139	213,608,699,347,000	5,124,737,142,000	1,556,918,735,000	148,272,172,464,000	80,912,162,871,000	20,687
DIC:011002	에너지 및 소재/철강	1,105	215,189,398,878,000	7,964,034,939,000	4,000,753,542,000	228,973,860,963,000	103,256,853,673,000	114,913
DIC:011003	에너지 및 소재/화학	1,719	325,468,475,586,000	17,119,116,231,000	9,250,119,053,000	479,771,416,215,000	301,302,041,576,000	216,918
DIC:011004	에너지 및 소재/기타	590	41,550,158,275,000	2,743,547,648,000	2,004,937,439,000	54,933,041,927,000	25,957,619,814,000	60,287
DIC:012001	산업재/건설 및 건자재	2,738	288,745,005,094,000	20,344,078,289,000	13,259,970,902,000	335,211,192,844,000	206,199,767,705,000	297,364
DIC:012002	산업재/기계, 조선 및 국방	4,025	305,551,057,264,000	12,037,411,395,000	4,730,864,854,000	372,254,550,127,000	206,357,548,436,000	424,761
DIC:012003	산업재/운송	1,051	126,762,608,482,000	4,928,432,753,000	-1,382,043,441,000	188,403,482,710,000	144,141,853,347,000	176,437
DIC:012004	산업재/상업 서비스	1,633	131,427,539,934,000	6,223,946,872,000	3,206,646,467,000	146,877,485,078,000	92,139,013,639,000	407,661
DIC:013001	기호성 소비/자동차 및 부품	1,641	421,211,136,623,000	11,784,282,097,000	8,917,169,625,000	484,189,497,593,000	267,984,816,715,000	388,280
DIC:013002	기호성 소비/가구 및 가전	450	46,310,124,339,000	1,352,994,794,000	710,928,635,000	30,739,941,775,000	15,862,313,126,000	60,550
DIC:013003	기호성 소비/의류 및 화장품	1,430	184,197,149,896,000	10,070,652,233,000	5,617,024,897,000	187,401,088,680,000	88,792,027,593,000	193,310
DIC:013004	기호성 소비/소비자 서비스	1,417	59,404,226,922,000	3,375,987,259,000	666,560,642,000	153,706,523,978,000	97,321,177,323,000	214,982
DIC:013005	기호성 소비/기타 소비자 재화	616	30,256,780,984,000	1,508,981,591,000	1,045,829,423,000	37,747,074,992,000	17,739,817,897,000	65,376
...
```

# GetAggregateIndustryConsensus

### Function specification

```
GetAggregateIndustryConsensus(industry_type=0, fields=None,
                                date=None, consensus_duration=3)
```

• 상장기업의 주식 애널리스트 컨센서스 데이터를 이용하여 산업 레벨에서의 컨센서스를 유추합니다.\
• 향후 3년간 산업 내 모든 기업의 매출, 영업이익, 당기순이익 등의 컨센서스 예측치를 합산하여, 이 총합의 성장치를 계산합니다.\
• 애널리스트 별로 기업과 산업에 대해 가지고 있는 견해의 차이를 반영하기 위해, 평균 성장치 뿐만 아니라 그 분산까지 함께 계산합니다.

### Parameters

| Parameter           | Type    | Description                                                                                                                                                                                                                                                                       |
| ------------------- | ------- | --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| industry\_type      | string  | 0 : 딥서치 산업분류, 1 : 통계청 산업분                                                                                                                                                                                                                                                         |
| fields              | string  | <p>• 아래 항목들 중 일부 또는 전체를 list 형태로 제공: "csd<em>\_operating\_income", "csd\_revenue", "csd\_net\_income", "operating\_income", "revenue", or "net\_income"</em> </p><p><em>• 값이 주어지지 않았거나 empty list 가 제공될 경우 모든 항목에 대해 수행</em> </p><p><em>• “csd</em>” prefix 는 연결 재무제표 항목을 표현.</p> |
| date                | date    | <p>• 컨센서스를 계산할 기준 시점을 명시 </p><p>• 값이 주어지지 않을 경우 오늘 날짜를 기본 값으로 선택</p>                                                                                                                                                                                                              |
| consensus\_duration | integer | • 컨센서스 자료를 취합할 기간을 설정 • 값이 주어지지 않을 경우 기준 시점으로부터 과거 3개월을 사용                                                                                                                                                                                                                        |

###

### Examples

```
> GetAggregateIndustryConsensus()
...
field	industry_id	fyear	stat	latest	forecast	growth	industry_name
csd_revenue	DIC:011001	2,019	count_all	41			에너지 및 소재/정유
csd_revenue	DIC:011001	2,019	count_consensus	3			에너지 및 소재/정유
csd_revenue	DIC:011001	2,019	count_listed	9			에너지 및 소재/정유
csd_revenue	DIC:011001	2,019	mean	100,901,040,524,000	100,901,040,524,000.00	0.00	에너지 및 소재/정유
csd_revenue	DIC:011001	2,019	p25	100,901,040,524,000	100,901,040,524,000.00	0.00	에너지 및 소재/정유
csd_revenue	DIC:011001	2,019	p50	100,901,040,524,000	100,901,040,524,000.00	0.00	에너지 및 소재/정유
csd_revenue	DIC:011001	2,019	p75	100,901,040,524,000	100,901,040,524,000.00	0.00	에너지 및 소재/정유
csd_revenue	DIC:011001	2,019	sum_all	197,458,778,838,000			에너지 및 소재/정유
csd_revenue	DIC:011001	2,019	sum_consensus	100,901,040,524,000			에너지 및 소재/정유
...

```

###

### Computation Algorithm

위 함수는 아래와 같은 순서에 따라 산업별 컨센서스 성장 전망치를 계산합니다.&#x20;

1\) 주어진 기간 사이에 발표된 모든 컨센서스 데이터를 꺼내옵니다. \
a. date 와 consensus\_duration 파라미터가 명시되지 않았을 경우, 오늘부터 과거 3개월 동안의 컨센서스 값을 가져옵니다. \
b. 이후의 예시는 오늘을 2020.01.23 으로 가정하고 설명하겠습니다.&#x20;

2\) 예측치가 가장 많이 발견되는 대상 연도를 세 개 선택합니다. \
a. 예를 들어, 오늘 데이터를 기준으로 예측치가 가장 많은 연도는 2019, 2020, 2021년입니다. \
b. 2022년과 2023년에도 일부 예측치가 있기는 하지만 샘플 숫자가 워낙 적어 사용하지 않고 버립니다.&#x20;

3\) 종목, 재무 연도, 그리고 증권사별로 가장 마지막 예측치만을 선택합니다. \
a. 예를 들어, xx 증권이 삼성전자에 대한 2019, 2020, 2021년 매출 전망치를 지난 세 달 동안 매주 발표했다고 합니다. b. 이 경우 가장 최근에 발표된 2019, 2020, 2021 매출 전망치만 남기고 이전 값들은 모두 버립니다.&#x20;

4\) 위에서 남겨진 값들을 이번엔 다시 종목과 재무 연도로 묶어 예측치의 평균과 분포를 계산합니다. \
a. 예를 들어, 삼성전자를 다루는 증권사가 여럿 있을 경우, 삼성전자의 2019, 2020, 2021년 매출 전망치에 대해 증권사들의 평균, 25 percentile, median, 75 percentile 을 구합니다. \
b. 이제 증권사 고유 코드는 사라지고, “종목 x 재무연도” 에 대한 전망치의 분포가 구해졌습니다.&#x20;

5\) 위 컨센서스가 다루어지는 모든 기업들에 대해 과거 2년 동안의 재무제표 데이터를 꺼내옵니다. \
a. 1년이 아니라 2년을 선택한 이유는, 오늘은 2020년 이지만 아직 2019년의 결산 재무제표가 공시되지 않았기 때문입니다. \
b. 오늘 기준으로 마지막 재무제표가 2018.12.31 이기 때문에 2년을 선택했습니다.&#x20;

6\) 컨센서스 예측치와 과거 재무제표를 비교해서, 동일한 연도에 대해 값이 존재할 경우 컨센서스의 값을 재무제표 값으로 overwrite 합니다. \
a. 예를 들어, 모 증권사가 xx 기업의 2019 매출 전망치를 한달 전에 발표했는데, xx 기업이 2019 재무제표를 지난주에 공시했다고 가정합시다. 이 경우 컨센서스는 더 이상 의미가 없기 때문에, 컨센서스를 재무제표 값으로 덮어 씌웁니다.&#x20;

7\) 산업 목록과 그에 소속되어 있는 모든 기업들의 목록을 꺼내옵니다.&#x20;

8\) 가장 최근으로 사용할 기준 회계연도를 선택합니다. \
a. 날짜가 3월 이전이라면 2년 전을, 4월 이후라면 1년 전을 선택합니다. \
b. 예를 들어 오늘이라면 2018년이 기준 회계연도가 됩니다. \
c. 대부분의 기업들이 12월에 회계연도를 끝내는데, 이 때 결산 재무제표 공시는 3월 중에 이루어지기 때문입니다.&#x20;

9\) 위 (5) 단계에서 꺼내온 재무제표 데이터 중에서 (8) 단계에서 선택한 기준 회계연도의 값을 꺼내옵니다.&#x20;

10\) 위 (9) 단계의 테이블을 (7) 단계에서 꺼내온 산업 분류와 결합한 뒤 산업별로 aggregation 하여 전체 기업의 수와 금액 총합을 계산합니다. a. 결과값 예시에서 2018 - count, 2018 – sum 에 해당하는 부분입니다.&#x20;

11\) 이번엔 (6) 단계에서 업데이트 된 컨센서스 값을 (7) 단계의 산업 분류와 결합합니다. 아직 산업별로 aggregation 하지는 않은 상태입니다.&#x20;

12\) 위 (11) 단계에서 얻어진 테이블을 (9) 단계의 기준 회계연도 값과 다시 결합합니다.&#x20;

13\) 위 (12) 단계의 테이블을 이제 산업별로 aggregation 합니다. \
a. 11에서 13으로 바로 오지 않고 12를 거치는 이유를 예를 들어 설명 드리겠습니다. \
b. 예를 들어, 임의 산업 내에 2019 예측치를 가지고 있는 기업들이 20개 있지만, 이 중 일부는 단기 예측치만 있고 2020 이후 예측치는 없다고 가정합니다. \
c. 산업별 성장 전망치를 구하기 위해선, 기준 회계연도 값의 총합과 컨센서스 총합을 비교해야 하는데, 2019년의 경우엔 기업이 20개 있지만 2020년의 경우엔 기업 갯수가 그보다 적기 때문에 기준 회계연도 값의 총합도 그에 맞게 조정되어야 합니다. \
d. 이렇게 계산된 기준 회계연도 값의 총합은 위 결과값 예시 화면의 latest 컬럼에 포함되어 있습니다. \
e. 컨센서스의 총합은 결과값 예시 화면의 forecast 컬럼에 들어있습니다. \
f. 이 둘을 비교하여 계산된 성장 전망치를 growth 컬럼에 넣었습니다. \
g. Latest 값이 음수일 경우 growth 가 의미가 없기 때문에, 이 경우 growth 는 missing 으로 대체했습니다.&#x20;

14\) Aggregation 이 각 통계치 (평균, 중위, p25, p75) 에 대해 이루어졌기 때문에 산업별 총합에서도 각 통계치 별로 계산이 이루어진 것을 알 수 있습니다.&#x20;

15\) Growth 컬럼의 평균/중위 값을 산업별 경제 성장 전망치로 사용할 수 있습니다.&#x20;

16\) Growth 컬럼에서 p75 와 p25 사이의 차이를 해당 산업 내 정보의 불확실성 (Knightian uncertainty) 또는 분산 (dispersion) 으로 해석할 수 있습니다.

\*주의사항\
삼성전자나 현대차 같은 대기업의 경우 컨센서스가 연결 재무제표 기준으로 작성되고, 개별 재무제표의 컨센서스는 비어있는 경우가 많습니다. 따라서 가급적 csd\_ prefix 로 시작하는 연결 재무제표의 값을 사용해서 산업별 컨센서스를 만드시기를 권장 드립니다.

# GetMarketSummaryInfoByIndustry

### Function specification

```
GetMarketSummaryInfoByIndustry(level=0)
```

###

### Parameters

| Parameter | Type    | Description |
| --------- | ------- | ----------- |
| level     | integer | 산업 분류 레벨    |
|           |         |             |

###

### Examples

```
> GetMarketSummaryInfoByIndustry(level=2)
...
industry_id	count	marcap	per
A011	2	190,918,899,070	2.52
A031	4	1,017,257,632,450	9.45
B051	2	98,515,489,596	1.00
B072	1	215,397,112,630	0.00
C101	7	751,334,136,096	3.81
C102	7	1,143,954,525,140	13.46
C103	2	105,482,030,000	10.71
C105	5	1,880,287,467,780	34.18
C106	5	996,942,257,875	5.74
C107	32	17,553,920,812,335	20.91
C108	12	1,156,303,738,860	27.62
...
```

# FindConglomerateByName

### Function specification

```
FindConglomerateByName(names)
```

###

### Parameters

| Parameter | Type   | Description |
| --------- | ------ | ----------- |
| names     | string | 기 집단의 이름    |

###

### Examples

```
> FindConglomerateByName("삼성")
...
conglomerate_id	name_ko	name_en	date_founded	owner	chairman	mission	tel	fax	zipcode	address_ko	main_business	main_company_name	main_company_symbol	primary_bank_symbol	primary_bank_name	primary_company_name	primary_company_symbol	top30	member_count
511	삼성	Samsung	1969-01-13	이재용	이재용	인재와 기술바탕으로 최고제품,서비스창출로 인류사회공헌	031-200-1114	031-200-1105	16677	경기 수원시 영통구 삼성로 129	휴대폰,컴퓨터,네트워크시스템,핵심칩,반도체부품,디스플레이패널,가전제품	삼성전자(주)	KRX:005930	KRBank:019	우리은행	삼성전자(주)	NICE:380725	1	62
CX9	삼성	Samsung	1986-11-28	임연숙	임연숙		054-727-6000	054-286-5203	37924	경북 포항시 남구 동해면 석리 92-4	아스콘 제조/쇄석 채취	(주)삼성	NICE:164696	KRBank:004	중소기업은행	(주)삼성	NICE:164696	3	2

```

# FindConglomerateByID

### Function specification

```
FindConglomerateByID(conglomerate_ids)
```

###

### Parameters

| Parameter         | Type   | Description |
| ----------------- | ------ | ----------- |
| conglomerate\_ids | string | 기업 집단 id    |

###

### Examples

```
FindConglomerateByID("511")
...
conglomerate_id	name_ko	name_en	date_founded	owner	chairman	mission	tel	fax	zipcode	address_ko	main_business	main_company_name	main_company_symbol	primary_bank_symbol	primary_bank_name	primary_company_name	primary_company_symbol	top30	member_count
511	삼성	Samsung	1969-01-13	이재용	이재용	인재와 기술바탕으로 최고제품,서비스창출로 인류사회공헌	031-200-1114	031-200-1105	16677	경기 수원시 영통구 삼성로 129	휴대폰,컴퓨터,네트워크시스템,핵심칩,반도체부품,디스플레이패널,가전제품	삼성전자(주)	KRX:005930	KRBank:019	우리은행	삼성전자(주)	NICE:380725	1	62

```

# GetConglomerateMembers

### Function specification

```
GetConglomerateMembers(conglomerate_ids)
```

###

### Parameters

| Parameter         | Type   | Description |
| ----------------- | ------ | ----------- |
| conglomerate\_ids | string | 기업 집단 id    |

###

### Examples

```
> GetConglomerateMembers("511")
...
fiscal_year	conglomerate_id	symbol	entity_name
2019	511	NICE:039224	스테코
2019	511	NICE:102357	삼성전자판매
2019	511	NICE:122088	삼성벤처투자
2019	511	NICE:125346	삼성전자로지텍
2019	511	NICE:131940	시큐아이
2019	511	NICE:136979	씨브이네트
2019	511	KRX:067280	멀티캠퍼스
2019	511	NICE:168139	삼성생명서비스손해사정
2019	511	NICE:173255	미라콤아이앤씨
2019	511	NICE:314528	세메스
2019	511	NICE:372670	에스디플렉스
2019	511	KRX:010140	삼성중공업
2019	511	KRX:006400	삼성SDI
2019	511	KRX:005930	삼성전자
2019	511	KRX:009150	삼성전기
2019	511	NICE:387533	삼성메디슨
2019	511	NICE:478917	하만인터내셔널코리아
2019	511	NICE:607240	삼성선물
2019	511	KRX:008770	호텔신라
2019	511	KRX:028260	삼성물산
2019	511	NICE:814130	삼성경제연구소
2019	511	KRX:030000	제일기획
2019	511	KRX:028050	삼성엔지니어링
2019	511	KRX:012750	에스원
2019	511	KRX:018260	삼성에스디에스
2019	511	KRX:016360	삼성증권
2019	511	KRX:032830	삼성생명
2019	511	KRX:000810	삼성화재
2019	511	NICE:876224	삼성화재서비스손해사정
2019	511	NICE:910333	서울레이크사이드
2019	511	NICE:952133	삼성전자서비스
2019	511	NICE:952222	삼성자산운용
2019	511	NICE:955671	삼성화재애니카손해사정
2019	511	NICE:968439	생보부동산신탁
2019	511	NICE:990230	삼성라이온즈
2019	511	KRX:029780	삼성카드
2019	511	NICE:C39492	에스코어
2019	511	NICE:C72637	수원삼성축구단
2019	511	NICE:F07990	휴먼티에스에스
2019	511	NICE:F26572	레드벤드소프트웨어코리아
2019	511	NICE:F35864	오픈핸즈
2019	511	NICE:F39138	에스원씨알엠
2019	511	KRX:207940	삼성바이오로직스
2019	511	NICE:H33271	에스티엠
2019	511	NICE:H76861	에스유머티리얼스
2019	511	NICE:H79395	제일패션리테일
2019	511	NICE:H82125	삼성바이오에피스
2019	511	NICE:H82126	삼성디스플레이
2019	511	NICE:HD0212	삼성생명금융서비스보험대리점
2019	511	NICE:HD4399	에이치디씨신라면세점
2019	511	NICE:HO3818	삼성화재금융서비스보험대리점
2019	511	NICE:I10413	삼성코닝어드밴스드글라스
2019	511	NICE:I67169	네추럴나인
2019	511	NICE:I71403	삼성에스알에이자산운용
2019	511	NICE:IM3580	삼성액티브자산운용
2019	511	NICE:IM4018	삼성헤지자산운용
2019	511	NICE:IV1459	에스비티엠
2019	511	NICE:JH7192	삼성전자서비스씨에스
2019	511	NICE:L24796	삼성웰스토리
2019	511	NICE:L29682	삼성카드고객서비스
2019	511	NICE:L85333	신라스테이
2019	511	NICE:M09094	삼우종합건축사사무소
```

# GetConglomerateFinancialStatements

### Function specification

```
GetConglomerateFinancialStatements(conglomerate_ids, query,
                                date_from=None, date_to=None)
```

###

### Parameters

| Parameter           | Type   | Description         |
| ------------------- | ------ | ------------------- |
| conglomerate\_ids   | string | 기업 집단 ids           |
| query               | string | 재무계정 이름 ( ex) 매출액 ) |
| date\_from/date\_to | date   | 기준 기간 (YYYY-MM-DD)  |

###

### Examples

```
> GetConglomerateFinancialStatements(["BH1","511"], "매출액")
...
date conglomerate_id                                                     
2017 BH1                            1.7452e+12                           
2018 511                            3.2629e+14                           
     BH1                            1.7053e+14    
     
```
